window.NYTD=window.NYTD||{};window.NYTD.NYTMM=window.NYTD.NYTMM||{};if(jQuery){$j=jQuery.noConflict()}window.NYTD.NYTMM.namespace=function(d){var c=d.split("."),b=NYTD.NYTMM,a;if(c[0]==="NYTD"&&c[1]==="NYTMM"){c=c.slice(2)}for(a=0;a<c.length;a+=1){if(typeof b[c[a]]==="undefined"){b[c[a]]={}}b=b[c[a]]}return b};if(typeof console=="undefined"){window.console={log:function(){},warn:function(){},error:function(){}}}if(typeof console.assert=="undefined"){window.console.assert=function(){}}window.NYTD.NYTMM.debugLevel=1;(function(a){a.extend({log:function(){var b;if(arguments.length>0){b=(arguments.length>1)?Array.prototype.join.call(arguments," "):arguments[0];if(NYTD.NYTMM.debugLevel==1){if(window.console){if(console.dirxml&&(typeof HTMLElement!=="undefined"&&b instanceof HTMLElement)){console.dirxml(b)}else{if(window.console&&console.log){console.log(b)}}}}else{if(NYTD.NYTMM.debugLevel==2){alert(b)}}}return b}})})(jQuery||NYTD.jQuery);(function(){NYTD.NYTMM.iOS=false;NYTD.NYTMM.iOSInfo={userAgent:null,version:null,minor:null,update:null,device:null,phone:false,tablet:false,pixelRatio:1,retina:false};if(/(iPhone|iPod|iPad)/i.test(navigator.userAgent)){NYTD.NYTMM.iOS=true;NYTD.NYTMM.iOSInfo.userAgent=navigator.userAgent;if(/CPU like Mac OS X/i.test(navigator.userAgent)){NYTD.NYTMM.iOSInfo.version=1}else{if(/OS [2-6]_\d(_\d)? like Mac OS X/i.test(navigator.userAgent)){var c=/OS ([2-6])_(\d)(?:_(\d))? like Mac OS X/i.exec(navigator.userAgent);NYTD.NYTMM.iOSInfo.version=c[1];NYTD.NYTMM.iOSInfo.minor=c[2];NYTD.NYTMM.iOSInfo.update=c[3]}}var b=/(iPhone|iPod|iPad)/i.exec(navigator.userAgent);NYTD.NYTMM.iOSInfo.device=b[0];NYTD.NYTMM.iOSInfo.tablet=(NYTD.NYTMM.iOSInfo.device==="iPad");NYTD.NYTMM.iOSInfo.phone=(NYTD.NYTMM.iOSInfo.tablet)?false:true;NYTD.NYTMM.iOSInfo.pixelRatio=!!window.devicePixelRatio?window.devicePixelRatio:1;NYTD.NYTMM.iOSInfo.retina=NYTD.NYTMM.iOSInfo.pixelRatio>1;var a=(NYTD.NYTMM.iOSInfo.phone)?"phone":"tablet";jQuery("html").addClass("nytmm_iOS");jQuery("html").addClass("nytmm_iOS_"+NYTD.NYTMM.iOSInfo.version);jQuery("html").addClass("nytmm_iOS_"+a)}})();(function(a){a.FontEvents={LOADING_EVENT:"NYTD.NYTMM.FontEvents:loading",ACTIVE_EVENT:"NYTD.NYTMM.FontEvents:active",INACTIVE_EVENT:"NYTD.NYTMM.FontEvents:inactive"}})(NYTD.NYTMM);window.NYTD=window.NYTD||{};window.NYTD.NYTMM=window.NYTD.NYTMM||{};(function(d,c,e){c.TypeKit=c.TypeKit||{};c.TypeKit.Font=c.TypeKit.Font||{};c.TypeKit.status="notready";function b(f){return Math.pow(f,2)}var a=c.TypeKit.Font={CHELT_EXTRA_LIGHT:b(0),CHELT_EXTRA_LIGHT_ITALIC:b(1),CHELT_LIGHT:b(2),CHELT_LIGHT_ITALIC:b(3),CHELT_BOLD:b(4),CHELT_BOLD_ITALIC:b(5),CHELT_BOOK:b(6),CHELT_BOOK_ITALIC:b(7),JEANNE_MODERNO:b(8),FRANKLIN_LIGHT:b(9),FRANKLIN_LIGHT_ITALIC:b(10),FRANKLIN_BOLD:b(11),FRANKLIN_BOLD_ITALIC:b(12),FRANKLIN_MEDIUM:b(13),FRANKLIN_MEDIUM_ITALIC:b(14),POPLAR:b(15),CHELT_BOOK:b(16),CHELT_BOOK_HINTED:b(17),CHELT_MEDIUM:b(18),FRANKLIN_EXTRA_BOLD:b(19),FRANKLIN_HEADLINE:b(20)};a.CHELT_LIGHT_ALL=a.CHELT_LIGHT_ITALIC|a.CHELT_LIGHT|a.CHELT_EXTRA_LIGHT_ITALIC|a.CHELT_EXTRA_LIGHT;c.TypeKit.getKit=function(f){if(typeof f==="string"){return f}switch(f){case a.CHELT_BOOK:return"xgs8nea";case a.CHELT_LIGHT_ALL:return"kjk6vib";case a.FRANKLIN_LIGHT|a.FRANKLIN_LIGHT_ITALIC|a.FRANKLIN_BOLD|a.FRANKLIN_BOLD_ITALIC:return"qzu2eue";case a.CHELT_EXTRA_LIGHT|a.CHELT_EXTRA_LIGHT_ITALIC:return"rty5wdw";case a.JEANNE_MODERNO:return"yis8nrq";case a.CHELT_LIGHT|a.FRANKLIN_MEDIUM|a.FRANKLIN_MEDIUM_ITALIC:return"znd7tgc";case a.CHELT_BOLD|a.CHELT_BOLD_ITALIC|a.CHELT_BOOK|a.CHELT_BOOK_ITALIC:return"znd7tgc";case a.CHELT_LIGHT|a.FRANKLIN_BOLD|a.FRANKLIN_MEDIUM:return"our6nig";case a.POPLAR|a.FRANKLIN_LIGHT|a.FRANKLIN_BOLD|a.FRANKLIN_BOLD_ITALIC|a.FRANKLIN_LIGHT_ITALIC:return"uim4bap";case a.CHELT_BOOK_HINTED:return"dje8bzb";case a.CHELT_BOOK|a.FRANKLIN_LIGHT:return"vju5oot";case a.CHELT_LIGHT|a.CHELT_EXTRA_LIGHT|a.CHELT_BOOK|a.CHELT_MEDIUM|a.CHELT_BOLD|a.FRANKLIN_MEDIUM|a.FRANKLIN_MEDIUM_ITALIC|a.FRANKLIN_BOLD|a.FRANKLIN_EXTRA_BOLD|a.FRANKLIN_HEADLINE|a.FRANKLIN_LIGHT_ITALIC:return"fmf6yhw";default:throw new Error("This kit combination does not exist. Please create a new typekit and add it to AsyncTypeLoader.js!")}};c.AsyncTypeLoader=function(f){var h=d("body");var g=(f)?c.TypeKit.getKit(f):c.TypeKit.getKit(c.TypeKit.Font.CHELT_LIGHT_ALL);TypekitConfig={kitId:g,scriptTimeout:3000,loading:function(){c.TypeKit.status="loading";h.trigger(c.FontEvents.LOADING_EVENT)},active:function(){c.TypeKit.status="active";h.trigger(c.FontEvents.ACTIVE_EVENT)},inactive:function(){c.TypeKit.status="inactive";h.trigger(c.FontEvents.INACTIVE_EVENT)}};(function(){var m=document.getElementsByTagName("html")[0];m.className+=" wf-loading";var k=setTimeout(function(){m.className=m.className.replace(/(\s|^)wf-loading(\s|$)/g,"");m.className+=" wf-inactive"},TypekitConfig.scriptTimeout);var j=document.createElement("script");j.src="//typeface.nytimes.com/"+TypekitConfig.kitId+".js";j.type="text/javascript";j.async="true";j.onload=j.onreadystatechange=function(){var n=this.readyState;if(n&&n!="complete"&&n!="loaded"){return}clearTimeout(k);try{Typekit.load(TypekitConfig)}catch(o){}};var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(j,l)})()}})(jQuery||NYTD.jQuery,NYTD.NYTMM);
/*
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
var Mustache=(typeof module!=="undefined"&&module.exports)||{};(function(x){x.name="mustache.js";x.version="0.5.0-dev";x.tags=["{{","}}"];x.parse=o;x.compile=f;x.render=w;x.clearCache=v;x.to_html=w;var u=Object.prototype.toString;var g=Array.isArray;var c=Array.prototype.forEach;var h=String.prototype.trim;var k;if(g){k=g}else{k=function(y){return u.call(y)==="[object Array]"}}var t;if(c){t=function(z,A,y){return c.call(z,A,y)}}else{t=function(B,C,A){for(var z=0,y=B.length;z<y;++z){C.call(A,B[z],z,B)}}}var l=/^\s*$/;function d(y){return l.test(y)}var r;if(h){r=function(y){return y==null?"":h.call(y)}}else{var p,j;if(d("\xA0")){p=/^\s+/;j=/\s+$/}else{p=/^[\s\xA0]+/;j=/[\s\xA0]+$/}r=function(y){return y==null?"":String(y).replace(p,"").replace(j,"")}}var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function q(y){return String(y).replace(/&(?!\w+;)|[<>"']/g,function(z){return e[z]||z})}function m(E,G,H,A){A=A||"<template>";var I=G.split("\n"),y=Math.max(H-3,0),B=Math.min(I.length,H+3),z=I.slice(y,B);var F;for(var C=0,D=z.length;C<D;++C){F=C+y+1;z[C]=(F===H?" >> ":"    ")+z[C]}E.template=G;E.line=H;E.file=A;E.message=[A+":"+H,z.join("\n"),"",E.message].join("\n");return E}function n(y,F){var E=y.split(".");var C=E.length-1;var D=E[C];var G,z,B=F.length,A,H;while(B){H=F.slice(0);z=F[--B];A=0;while(A<C){z=z[E[A++]];if(z==null){break}H.push(z)}if(z&&D in z){G=z[D];break}}if(typeof G==="function"){G=G.call(H[H.length-1])}return G==null?"":G}function a(C,B,E,y,z){if(z){if(B==null||B===false||(k(B)&&B.length===0)){C(E())}}else{if(k(B)){t(B,function(F){y.push(F);C(E());y.pop()})}else{if(typeof B==="object"){y.push(B);C(E());y.pop()}else{if(typeof B==="function"){var A=y[y.length-1];var D=function(F){return w(F,A)};C(B.call(A,E(),D)||"")}else{if(B){C(E())}}}}}}function o(ab,D){D=D||{};var M=D.tags||x.tags,N=M[0],I=M[M.length-1];var z=["var line = 1;","\ntry {",'\nsend("'];var H=[],Z=false;var X=function(){if(!Z&&!D.space){while(H.length){z.splice(H.pop(),1)}}else{H=[]}Z=false};var B=function(ac){return ac==="."?"stack[stack.length - 1]":'find("'+ac+'")'};var U=[],R,E,O;var W=function(ac){M=r(ac).split(/\s+/);E=M[0];O=M[M.length-1]};var L=function(ac){z.push('");',R,'\nvar partial = partials["'+r(ac)+'"];',"\nif (partial) {","\n  send(render(partial, stack[stack.length - 1], partials));","\n}",'\nsend("')};var y=function(ae,ac){var ad=r(ae);if(ad===""){throw m(new Error("Section name may not be empty"),ab,K,D.file)}U.push({name:ad,inverted:ac});z.push('");',R,"\nvar value = "+B(ad)+";","\nvar callback = (function () {","\n  var buffer, send = function (chunk) { buffer.push(chunk); };","\n  return function () {","\n    buffer = [];",'\nsend("')};var G=function(ac){y(ac,true)};var V=function(ad){var ac=r(ad);var af=U.length!=0&&U[U.length-1].name;if(!af||ac!=af){throw m(new Error('Section named "'+ac+'" was never opened'),ab,K,file)}var ae=U.pop();z.push('");','\n    return buffer.join("");',"\n  };","\n})();");if(ae.inverted){z.push("\nsendSection(send,value,callback,stack,true);")}else{z.push("\nsendSection(send,value,callback,stack);")}z.push('\nsend("')};var Y=function(ac){z.push('");',R,"\nsend("+B(r(ac))+");",'\nsend("')};var A=function(ac){z.push('");',R,"\nsend(escapeHTML("+B(r(ac))+"));",'\nsend("')};var K=1,aa,F;for(var S=0,T=ab.length;S<T;++S){if(ab.slice(S,S+N.length)===N){S+=N.length;aa=ab.substr(S,1);R="\nline = "+K+";";E=N;O=I;switch(aa){case"!":S++;F=null;break;case"=":S++;I="="+I;F=W;break;case">":S++;F=L;break;case"#":S++;F=y;break;case"^":S++;F=G;break;case"/":S++;F=V;break;case"{":I="}"+I;case"&":S++;Z=true;F=Y;break;default:Z=true;F=A}var C=ab.indexOf(I,S);if(C===-1){throw m(new Error('Tag "'+N+'" was not closed properly'),ab,K,D.file)}var Q=ab.substring(S,C);if(F){F(Q)}var P=0;while(~(P=Q.indexOf("\n",P))){K++;P++}S=C+I.length-1;N=E;I=O}else{aa=ab.substr(S,1);switch(aa){case'"':case"\\":Z=true;z.push("\\"+aa);break;case"\n":H.push(z.length);z.push("\\n");X();K++;break;default:if(d(aa)){H.push(z.length)}else{Z=true}z.push(aa)}}}if(U.length!=0){throw m(new Error('Section "'+U[U.length-1].name+'" was not closed properly'),ab,K,D.file)}X();z.push('");',"\nsend(null);","\n} catch (e) { throw {error: e, line: line}; }");var J=z.join("").replace(/send\(""\);\n/g,"");if(D.debug){if(typeof console!="undefined"&&console.log){console.log(J)}else{if(typeof print==="function"){print(J)}}}return J}function s(C,A){var z="view,partials,send,stack,find,escapeHTML,sendSection,render";var y=o(C,A);var B=new Function(z,y);return function(F,G,K){if(typeof G==="function"){K=G;G={}}G=G||{};var E=[];var I=K||function(L){E.push(L)};var D=[F];var J=function(L){return n(L,D)};try{B(F,G,I,D,J,q,a,w)}catch(H){throw m(H.error,C,H.line,A.file)}return E.join("")}}var b={};function v(){b={}}function f(z,y){y=y||{};if(y.cache!==false){if(!b[z]){b[z]=s(z,y)}return b[z]}return s(z,y)}function w(A,y,z,B){return f(A)(y,z,B)}})(Mustache);(function(c,a,b,d,e){if(b!="undefined"&&typeof b.NYTUtils=="undefined"){b.NYTUtils={init:function(){this.wideAd=!!(d("body[class~=wideAd]")[0]);this.templateType="";this.contentWidth=0;if(d("body").hasClass("blogPost")){this.templateType="blog";this.contentWidth=(this.wideAd?382:680)}else{if(d("#tmagazine").length>0){this.templateType="tmag";this.contentWidth=(this.wideAd?464:592)}else{if(d("#interactiveABC").length>0){this.templateType="interactiveFull";this.contentWidth=970}else{if(d("#interactiveAB").length>0){this.templateType="interactive600";this.contentWidth=(this.wideAd?468:600)}else{this.templateType="article";this.contentWidth=(this.wideAd?468:600)}}}}},scrapeDateline:function(){var f;switch(this.templateType){case"interactive600":f=".abColumn .storyHeader .dateline";break;case"interactiveFull":f="#interactiveShell .storyHeader .dateline";break;case"blog":f="body.blogPost #content > .post .timestamp .date";break;default:f="#article .dateline"}return d(f)},dateline:function(g){var f=this.scrapeDateline();if(g){f.html(g)}else{return f.html().replace(/^\s+|\s+$/g,"")}},scrapeKicker:function(){var f;switch(this.templateType){case"interactive600":f=".abColumn .storyHeader h6.kicker";break;case"interactiveFull":f="#interactiveShell .storyHeader h6.kicker";break;default:f="#article h6.kicker"}return d(f)},kicker:function(g){var f=this.scrapeKicker();if(g){f.html(g)}else{return f.html().replace(/^\s+|\s+$/g,"")}},scrapeLeadin:function(){var f;switch(this.templateType){case"interactive600":f=".abColumn .storySummary";break;case"interactiveFull":f="#interactiveShell .storySummary";break;case"blog":f="";break;default:f=""}if(this.templateType==="interactiveFull"&&d(f).length<1){f="#interactiveShell .module.insetHFullWidth .summary"}return d(f)},leadin:function(f){var g=this.scrapeLeadin();if(f){g.html(f)}else{return g.html().replace(/^\s+|\s+$/g,"")}},scrapeTitle:function(){var f;switch(this.templateType){case"interactive600":f=".abColumn .storyHeader h1";break;case"interactiveFull":f="#interactiveShell .storyHeader h1";break;case"blog":f="body.blogPost #content > .post h1";break;default:f="#article h1.articleHeadline"}return d(f)},title:function(f){var g=this.scrapeTitle();if(f){g.html(f)}else{return g.html().replace(/^\s+|\s+$/g,"")}},findBundledScript:function(g){var h=new RegExp("(^http://graphics8.nytimes.com/packages/js/multimedia/|bundler/.*action=bundle).*"+g+".*","i");var f=d("script[src]").filter(function(){return d(this).attr("src").match(h)});if(f.length>1){d.log("WARNING: MORE THAN ONE findBundledScripts("+g+") FOUND! This is probably an error");d.log(f)}return f},appendAfterScript:function(f,g){return this.findBundledScript(f).after(g)},isDark:function(){if(this.dark===null||this.dark===e){var f=d(a.body).css("background-color");if(f.indexOf("rgb")>=0){f=f.replace(/[^\d\,]/g,"").split(",");for(var g=0;g<f.length;g++){f[g]=parseInt(f[g],10)}}else{if(f.indexOf("#")>=0){f=f.replace(/[^\d]/g,"").replace(/(\w\w)(\w\w)(\w\w)/,"$1,$2,$3").split(",");for(var g=0;g<f.length;g++){f[g]=parseInt(f[g],16)}}else{f=null}}this.dark=(f&&f[0]<153&&f[1]<153&&f[2]<153)}return this.dark},skin:function(){return this.isDark()?"dark":"light"},writeFeatureHeader:function(h,g){g=g||'<div class="nytmm_header clearfix {{#isDark}}dark{{/isDark}}"><h1>{{{title}}}<span>{{{leadin}}}</span></h1><div class="doubleRule"></div></div>';var f=d(Mustache.to_html(g,{title:this.scrapeTitle().detach().html().replace(/^\s+|\s+$/g,""),leadin:this.scrapeLeadin().detach().html().replace(/^\s+|\s+$/g,""),isDark:this.isDark()}));d(h).prepend(f);return f},cleanURLForWebtrends:function(g,h){if(!g){g=c.location.href}var k=g.split(/[#?&]*\/?[#?&]+/);var j=k.shift();k=d.map(k,function(l){return l.replace("=","-")});k.sort();var f=j;if(h){f+="/"+h}if(k&&k.length){f+=("/"+k.join("/")).replace(/\/\/+/g,"/")}return f}};b.NYTUtils.init()}})(window,document,NYTD.NYTMM,jQuery);
/*
Underscore.js 1.4.3
http://underscorejs.org
(c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
Underscore may be freely distributed under the MIT license.
*/
(function(){var ak=this,ae=ak._,ag={},au=Array.prototype,ad=Object.prototype,ap=Function.prototype,ay=au.push,aj=au.slice,aw=au.concat,am=ad.toString,at=ad.hasOwnProperty,af=au.forEach,ai=au.map,ac=au.reduce,aq=au.reduceRight,ar=au.filter,av=au.every,al=au.some,Z=au.indexOf,ax=au.lastIndexOf,aa=Array.isArray,az=Object.keys,ao=ap.bind,ab=function(a){return a instanceof ab?a:this instanceof ab?(this._wrapped=a,void 0):new ab(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ab),exports._=ab):ak._=ab,ab.VERSION="1.4.3";var X=ab.each=ab.forEach=function(h,f,g){if(null!=h){if(af&&h.forEach===af){h.forEach(f,g)}else{if(h.length===+h.length){for(var c=0,d=h.length;d>c;c++){if(f.call(g,h[c],c,h)===ag){return}}}else{for(var b in h){if(ab.has(h,b)&&f.call(g,h[b],b,h)===ag){return}}}}}};ab.map=ab.collect=function(d,a,b){var c=[];return null==d?c:ai&&d.map===ai?d.map(a,b):(X(d,function(g,e,f){c[c.length]=a.call(b,g,e,f)}),c)};var J="Reduce of empty array with no initial value";ab.reduce=ab.foldl=ab.inject=function(f,b,c,d){var a=arguments.length>2;if(null==f&&(f=[]),ac&&f.reduce===ac){return d&&(b=ab.bind(b,d)),a?f.reduce(b,c):f.reduce(b)}if(X(f,function(h,g,e){a?c=b.call(d,c,h,g,e):(c=h,a=!0)}),!a){throw new TypeError(J)}return c},ab.reduceRight=ab.foldr=function(j,f,g,h){var c=arguments.length>2;if(null==j&&(j=[]),aq&&j.reduceRight===aq){return h&&(f=ab.bind(f,h)),c?j.reduceRight(f,g):j.reduceRight(f)}var d=j.length;if(d!==+d){var b=ab.keys(j);d=b.length}if(X(j,function(e,k,a){k=b?b[--d]:--d,c?g=f.call(h,g,j[k],k,a):(g=j[k],c=!0)}),!c){throw new TypeError(J)}return g},ab.find=ab.detect=function(d,a,b){var c;return U(d,function(g,e,f){return a.call(b,g,e,f)?(c=g,!0):void 0}),c},ab.filter=ab.select=function(d,a,b){var c=[];return null==d?c:ar&&d.filter===ar?d.filter(a,b):(X(d,function(g,e,f){a.call(b,g,e,f)&&(c[c.length]=g)}),c)},ab.reject=function(c,a,b){return ab.filter(c,function(g,f,d){return !a.call(b,g,f,d)},b)},ab.every=ab.all=function(d,b,c){b||(b=ab.identity);var a=!0;return null==d?a:av&&d.every===av?d.every(b,c):(X(d,function(g,f,e){return(a=a&&b.call(c,g,f,e))?void 0:ag}),!!a)};var U=ab.some=ab.any=function(d,b,c){b||(b=ab.identity);var a=!1;return null==d?a:al&&d.some===al?d.some(b,c):(X(d,function(g,f,e){return a||(a=b.call(c,g,f,e))?ag:void 0}),!!a)};ab.contains=ab.include=function(b,a){return null==b?!1:Z&&b.indexOf===Z?b.indexOf(a)!=-1:U(b,function(c){return c===a})},ab.invoke=function(c,a){var b=aj.call(arguments,2);return ab.map(c,function(d){return(ab.isFunction(a)?a:d[a]).apply(d,b)})},ab.pluck=function(b,a){return ab.map(b,function(c){return c[a]})},ab.where=function(b,a){return ab.isEmpty(a)?[]:ab.filter(b,function(d){for(var c in a){if(a[c]!==d[c]){return !1}}return !0})},ab.max=function(d,a,b){if(!a&&ab.isArray(d)&&d[0]===+d[0]&&65535>d.length){return Math.max.apply(Math,d)}if(!a&&ab.isEmpty(d)){return -1/0}var c={computed:-1/0,value:-1/0};return X(d,function(h,f,g){var e=a?a.call(b,h,f,g):h;e>=c.computed&&(c={value:h,computed:e})}),c.value},ab.min=function(d,a,b){if(!a&&ab.isArray(d)&&d[0]===+d[0]&&65535>d.length){return Math.min.apply(Math,d)}if(!a&&ab.isEmpty(d)){return 1/0}var c={computed:1/0,value:1/0};return X(d,function(h,f,g){var e=a?a.call(b,h,f,g):h;c.computed>e&&(c={value:h,computed:e})}),c.value},ab.shuffle=function(d){var a,b=0,c=[];return X(d,function(e){a=ab.random(b++),c[b-1]=c[a],c[a]=e}),c};var Q=function(a){return ab.isFunction(a)?a:function(b){return b[a]}};ab.sortBy=function(d,a,b){var c=Q(a);return ab.pluck(ab.map(d,function(g,f,e){return{value:g,index:f,criteria:c.call(b,g,f,e)}}).sort(function(j,f){var g=j.criteria,h=f.criteria;if(g!==h){if(g>h||g===void 0){return 1}if(h>g||h===void 0){return -1}}return j.index<f.index?-1:1}),"value")};var an=function(g,c,d,f){var a={},b=Q(c||ab.identity);return X(g,function(h,e){var j=b.call(d,h,e,g);f(a,j,h)}),a};ab.groupBy=function(c,a,b){return an(c,a,b,function(f,d,e){(ab.has(f,d)?f[d]:f[d]=[]).push(e)})},ab.countBy=function(c,a,b){return an(c,a,b,function(e,d){ab.has(e,d)||(e[d]=0),e[d]++})},ab.sortedIndex=function(k,f,g,h){g=null==g?ab.identity:Q(g);for(var c=g.call(h,f),d=0,b=k.length;b>d;){var j=d+b>>>1;c>g.call(h,k[j])?d=j+1:b=j}return d},ab.toArray=function(a){return a?ab.isArray(a)?aj.call(a):a.length===+a.length?ab.map(a,ab.identity):ab.values(a):[]},ab.size=function(a){return null==a?0:a.length===+a.length?a.length:ab.keys(a).length},ab.first=ab.head=ab.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:aj.call(c,0,a)},ab.initial=function(c,a,b){return aj.call(c,0,c.length-(null==a||b?1:a))},ab.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:aj.call(c,Math.max(c.length-a,0))},ab.rest=ab.tail=ab.drop=function(c,a,b){return aj.call(c,null==a||b?1:a)},ab.compact=function(a){return ab.filter(a,ab.identity)};var H=function(c,a,b){return X(c,function(d){ab.isArray(d)?a?ay.apply(b,d):H(d,a,b):b.push(d)}),b};ab.flatten=function(b,a){return H(b,a,[])},ab.without=function(a){return ab.difference(a,aj.call(arguments,1))},ab.uniq=ab.unique=function(j,f,g,h){ab.isFunction(f)&&(h=g,g=f,f=!1);var c=g?ab.map(j,g,h):j,d=[],b=[];return X(c,function(a,k){(f?k&&b[b.length-1]===a:ab.contains(b,a))||(b.push(a),d.push(j[k]))}),d},ab.union=function(){return ab.uniq(aw.apply(au,arguments))},ab.intersection=function(b){var a=aj.call(arguments,1);return ab.filter(ab.uniq(b),function(c){return ab.every(a,function(d){return ab.indexOf(d,c)>=0})})},ab.difference=function(b){var a=aw.apply(au,aj.call(arguments,1));return ab.filter(b,function(c){return !ab.contains(a,c)})},ab.zip=function(){for(var d=aj.call(arguments),a=ab.max(ab.pluck(d,"length")),b=Array(a),c=0;a>c;c++){b[c]=ab.pluck(d,""+c)}return b},ab.object=function(f,b){if(null==f){return{}}for(var c={},d=0,a=f.length;a>d;d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1]}return c},ab.indexOf=function(f,b,c){if(null==f){return -1}var d=0,a=f.length;if(c){if("number"!=typeof c){return d=ab.sortedIndex(f,b),f[d]===b?d:-1}d=0>c?Math.max(0,a+c):c}if(Z&&f.indexOf===Z){return f.indexOf(b,c)}for(;a>d;d++){if(f[d]===b){return d}}return -1},ab.lastIndexOf=function(f,b,c){if(null==f){return -1}var d=null!=c;if(ax&&f.lastIndexOf===ax){return d?f.lastIndexOf(b,c):f.lastIndexOf(b)}for(var a=d?c:f.length;a--;){if(f[a]===b){return a}}return -1},ab.range=function(g,c,d){1>=arguments.length&&(c=g||0,g=0),d=arguments[2]||1;for(var f=Math.max(Math.ceil((c-g)/d),0),a=0,b=Array(f);f>a;){b[a++]=g,g+=d}return b};var P=function(){};ab.bind=function(d,a){var b,c;if(d.bind===ao&&ao){return ao.apply(d,aj.call(arguments,1))}if(!ab.isFunction(d)){throw new TypeError}return b=aj.call(arguments,2),c=function(){if(!(this instanceof c)){return d.apply(a,b.concat(aj.call(arguments)))}P.prototype=d.prototype;var e=new P;P.prototype=null;var f=d.apply(e,b.concat(aj.call(arguments)));return Object(f)===f?f:e}},ab.bindAll=function(b){var a=aj.call(arguments,1);return 0===a.length&&(a=ab.functions(b)),X(a,function(c){b[c]=ab.bind(b[c],b)}),b},ab.memoize=function(c,a){var b={};return a||(a=ab.identity),function(){var d=a.apply(this,arguments);return ab.has(b,d)?b[d]:b[d]=c.apply(this,arguments)}},ab.delay=function(c,a){var b=aj.call(arguments,2);return setTimeout(function(){return c.apply(null,b)},a)},ab.defer=function(a){return ab.delay.apply(ab,[a,1].concat(aj.call(arguments,1)))},ab.throttle=function(k,f){var g,h,c,d,b=0,j=function(){b=new Date,c=null,d=k.apply(g,h)};return function(){var e=new Date,a=f-(e-b);return g=this,h=arguments,0>=a?(clearTimeout(c),c=null,b=e,d=k.apply(g,h)):c||(c=setTimeout(j,a)),d}},ab.debounce=function(f,b,c){var d,a;return function(){var g=this,e=arguments,h=function(){d=null,c||(a=f.apply(g,e))},j=c&&!d;return clearTimeout(d),d=setTimeout(h,b),j&&(a=f.apply(g,e)),a}},ab.once=function(c){var a,b=!1;return function(){return b?a:(b=!0,a=c.apply(this,arguments),c=null,a)}},ab.wrap=function(b,a){return function(){var c=[b];return ay.apply(c,arguments),a.apply(this,c)}},ab.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--){b=[a[c].apply(this,b)]}return b[0]}},ab.after=function(b,a){return 0>=b?a():function(){return 1>--b?a.apply(this,arguments):void 0}},ab.keys=az||function(c){if(c!==Object(c)){throw new TypeError("Invalid object")}var a=[];for(var b in c){ab.has(c,b)&&(a[a.length]=b)}return a},ab.values=function(c){var a=[];for(var b in c){ab.has(c,b)&&a.push(c[b])}return a},ab.pairs=function(c){var a=[];for(var b in c){ab.has(c,b)&&a.push([b,c[b]])}return a},ab.invert=function(c){var a={};for(var b in c){ab.has(c,b)&&(a[c[b]]=b)}return a},ab.functions=ab.methods=function(c){var a=[];for(var b in c){ab.isFunction(c[b])&&a.push(b)}return a.sort()},ab.extend=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){a[c]=b[c]}}}),a},ab.pick=function(c){var a={},b=aw.apply(au,aj.call(arguments,1));return X(b,function(d){d in c&&(a[d]=c[d])}),a},ab.omit=function(d){var b={},c=aw.apply(au,aj.call(arguments,1));for(var a in d){ab.contains(c,a)||(b[a]=d[a])}return b},ab.defaults=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){null==a[c]&&(a[c]=b[c])}}}),a},ab.clone=function(a){return ab.isObject(a)?ab.isArray(a)?a.slice():ab.extend({},a):a},ab.tap=function(b,a){return a(b),b};var G=function(g,q,b,k){if(g===q){return 0!==g||1/g==1/q}if(null==g||null==q){return g===q}g instanceof ab&&(g=g._wrapped),q instanceof ab&&(q=q._wrapped);var p=am.call(g);if(p!=am.call(q)){return !1}switch(p){case"[object String]":return g==q+"";case"[object Number]":return g!=+g?q!=+q:0==g?1/g==1/q:g==+q;case"[object Date]":case"[object Boolean]":return +g==+q;case"[object RegExp]":return g.source==q.source&&g.global==q.global&&g.multiline==q.multiline&&g.ignoreCase==q.ignoreCase}if("object"!=typeof g||"object"!=typeof q){return !1}for(var h=b.length;h--;){if(b[h]==g){return k[h]==q}}b.push(g),k.push(q);var m=0,d=!0;if("[object Array]"==p){if(m=g.length,d=m==q.length){for(;m--&&(d=G(g[m],q[m],b,k));){}}}else{var l=g.constructor,j=q.constructor;if(l!==j&&!(ab.isFunction(l)&&l instanceof l&&ab.isFunction(j)&&j instanceof j)){return !1}for(var v in g){if(ab.has(g,v)&&(m++,!(d=ab.has(q,v)&&G(g[v],q[v],b,k)))){break}}if(d){for(v in q){if(ab.has(q,v)&&!m--){break}}d=!m}}return b.pop(),k.pop(),d};ab.isEqual=function(b,a){return G(b,a,[],[])},ab.isEmpty=function(b){if(null==b){return !0}if(ab.isArray(b)||ab.isString(b)){return 0===b.length}for(var a in b){if(ab.has(b,a)){return !1}}return !0},ab.isElement=function(a){return !(!a||1!==a.nodeType)},ab.isArray=aa||function(a){return"[object Array]"==am.call(a)},ab.isObject=function(a){return a===Object(a)},X(["Arguments","Function","String","Number","Date","RegExp"],function(a){ab["is"+a]=function(b){return am.call(b)=="[object "+a+"]"}}),ab.isArguments(arguments)||(ab.isArguments=function(a){return !(!a||!ab.has(a,"callee"))}),"function"!=typeof/./&&(ab.isFunction=function(a){return"function"==typeof a}),ab.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},ab.isNaN=function(a){return ab.isNumber(a)&&a!=+a},ab.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==am.call(a)},ab.isNull=function(a){return null===a},ab.isUndefined=function(a){return a===void 0},ab.has=function(b,a){return at.call(b,a)},ab.noConflict=function(){return ak._=ae,this},ab.identity=function(a){return a},ab.times=function(f,b,c){for(var d=Array(f),a=0;f>a;a++){d[a]=b.call(c,a)}return d},ab.random=function(b,a){return null==a&&(a=b,b=0),b+(0|Math.random()*(a-b+1))};var C={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};C.unescape=ab.invert(C.escape);var L={escape:RegExp("["+ab.keys(C.escape).join("")+"]","g"),unescape:RegExp("("+ab.keys(C.unescape).join("|")+")","g")};ab.each(["escape","unescape"],function(a){ab[a]=function(b){return null==b?"":(""+b).replace(L[a],function(c){return C[a][c]})}}),ab.result=function(c,a){if(null==c){return null}var b=c[a];return ab.isFunction(b)?b.call(c):b},ab.mixin=function(a){X(ab.functions(a),function(b){var c=ab[b]=a[b];ab.prototype[b]=function(){var d=[this._wrapped];return ay.apply(d,arguments),Y.call(this,c.apply(ab,d))}})};var K=0;ab.uniqueId=function(b){var a=++K+"";return b?b+a:a},ab.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ah=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\t|\u2028|\u2029/g;ab.template=function(f,m,b){var h;b=ab.defaults({},b,ab.templateSettings);var l=RegExp([(b.escape||ah).source,(b.interpolate||ah).source,(b.evaluate||ah).source].join("|")+"|$","g"),g=0,k="__p+='";f.replace(l,function(c,n,p,a,q){return k+=f.slice(g,q).replace(V,function(e){return"\\"+W[e]}),n&&(k+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),p&&(k+="'+\n((__t=("+p+"))==null?'':__t)+\n'"),a&&(k+="';\n"+a+"\n__p+='"),g=q+c.length,c}),k+="';\n",b.variable||(k="with(obj||{}){\n"+k+"}\n"),k="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+k+"return __p;\n";try{h=Function(b.variable||"obj","_",k)}catch(d){throw d.source=k,d}if(m){return h(m,ab)}var j=function(a){return h.call(this,a,ab)};return j.source="function("+(b.variable||"obj")+"){\n"+k+"}",j},ab.chain=function(a){return ab(a).chain()};var Y=function(a){return this._chain?ab(a).chain():a};ab.mixin(ab),X(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=au[b];ab.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),"shift"!=b&&"splice"!=b||0!==c.length||delete c[0],Y.call(this,c)}}),X(["concat","join","slice"],function(b){var a=au[b];ab.prototype[b]=function(){return Y.call(this,a.apply(this._wrapped,arguments))}}),ab.extend(ab.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);
/*
 * jQuery Fixed Div plugin v1.0.0 <https://github.com/rwbaker/jQuery.fixed/>
 * @requires jQuery v1.2.6 or later
 * is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 *     very HEAVILY MODIFIED by Jon Huang
 */
(function(c){var b={top:0,enabled:true,localOffset:0,stopAtBottom:false,updateBottom:true,bottomPos:0,offsetBottom:0,isFixed:false,fixedSupport:true,forceAbsolutePositioning:false,onFixing:function(){},onUnfixing:function(){}};var a={init:function(d){return this.each(function(){var g=this;var e={};c.extend(true,e,b,d);var j=c(this);var l=j.offset();e.offsetTop=(parseInt(l.top,10)-parseInt(e.top,10)-parseInt(j.css("padding-top"),10));var f=j.offsetParent();e.$offsetParent=j.offsetParent();e.bottomPos=f.outerHeight()-j.outerHeight();e.offsetBottom=e.bottomPos+e.offsetTop;e.localOffset=j.position().top;if(/(iPhone|iPod|iPad)/i.test(navigator.userAgent)){if(/OS [2-4]_\d(_\d)? like Mac OS X/i.test(navigator.userAgent)){e.fixedSupport=false}else{if(/CPU like Mac OS X/i.test(navigator.userAgent)){e.fixedSupport=false}else{e.fixedSupport=true}}}else{e.fixedSupport=true}if(e.forceAbsolutePositioning){e.fixedSupport=false}j.css("position","absolute");j.data("nytmm_fixie",e);if(c(window).scrollTop()>e.offsetTop){h(e.top)}c(window).on("scroll.fixie",_.debounce(function(){if(!e.enabled){return}var m=c(window).scrollTop();if(e.stopAtBottom&&e.updateBottom){e.bottomPos=f.outerHeight()-j.outerHeight();e.offsetBottom=e.bottomPos+e.offsetTop}if(m<e.offsetTop){k(e.localOffset);a._setFix(false,j)}else{if(e.stopAtBottom&&(m>e.offsetBottom)){k(e.bottomPos);a._setFix(true,j)}else{if(e.fixedSupport){h(e.top)}else{k(m+e.top-e.offsetTop)}a._setFix(true,j)}}},0));function h(m){j.css("position","fixed").css({top:m+"px"})}function k(m){j.css("position","absolute").css({top:m+"px"})}})},enable:function(){return this.each(function(){var d=c(this).data("nytmm_fixie");d.enabled=true})},disable:function(){return this.each(function(){var d=c(this).data("nytmm_fixie");d.enabled=false;c(this).css({position:"absolute",top:d.localOffset+"px"})})},update:function(){return this.each(function(){var d=c(this).data("nytmm_fixie");var e=c(this);var f=e.offset();d.offsetTop=(parseInt(f.top,10)-parseInt(d.top,10)-parseInt(e.css("padding-top"),10));f=(parseInt(f.top,10)-parseInt(d.top,10));d.bottomPos=Math.max(parseInt(d.$offsetParent.css("height"),10),d.$offsetParent.height())-c(window).height();d.offsetBottom=d.bottomPos+f})},_setFix:function(d,f){var e=f.data("nytmm_fixie");if(d){if(!e.isFixed&&e.onFixing){e.onFixing()}e.isFixed=true;f.addClass("nytmm_fixed")}else{if(e.isFixed&&e.onUnfixing){e.onUnfixing()}e.isFixed=false;f.removeClass("nytmm_fixed")}}};c.fn.fixie=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery.fixie")}}}})(jQuery||NYTD.jQuery);
/*
 * jQuery imagesLoaded plugin v2.0.1
 * http://github.com/desandro/imagesloaded
 *
 * MIT License. by Paul Irish et al.
 */
(function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(l){var h=this,n=a.isFunction(a.Deferred)?a.Deferred():0,m=a.isFunction(n.notify),e=h.find("img").add(h.filter("img")),f=[],k=[],g=[];function j(){var o=a(k),p=a(g);if(n){if(g.length){n.reject(e,o,p)}else{n.resolve(e)}}if(a.isFunction(l)){l.call(h,e,o,p)}}function d(o,p){if(o.src===c||a.inArray(o,f)!==-1){return}f.push(o);if(p){g.push(o)}else{k.push(o)}a.data(o,"imagesLoaded",{isBroken:p,src:o.src});if(m){n.notifyWith(a(o),[p,e,a(k),a(g)])}if(e.length===f.length){setTimeout(j);e.unbind(".imagesLoaded")}}if(!e.length){j()}else{e.bind("load.imagesLoaded error.imagesLoaded",function(o){d(o.target,o.type==="error")}).each(function(o,q){var r=q.src;var p=a.data(q,"imagesLoaded");if(p&&p.src===r){d(q,p.isBroken);return}if(q.complete&&q.naturalWidth!==b){d(q,q.naturalWidth===0||q.naturalHeight===0);return}if(q.readyState||q.complete){q.src=c;q.src=r}})}return n?n.promise(h):h}})(jQuery);(function(a,b){a.fn.heightMatch=function(d,f){var e=this;d=a.extend({target:e},d);function c(){var h=0,g=0;e.each(function(){g=a(this).outerHeight();h=(g>h)?g:h});a(d.target).css({"min-height":h+"px"});if(a.isFunction(f)){f.call(e,d)}}if(a().imagesLoaded){a(this).imagesLoaded(function(){c()})}else{c()}return e}})(jQuery);(function(a){a.VideoEvents={START_EVENT:"NYTD.NYTMM.VideoEvent:start",PLAY_EVENT:"NYTD.NYTMM.VideoEvent:play",PAUSE_EVENT:"NYTD.NYTMM.VideoEvent:pause",STOP_EVENT:"NYTD.NYTMM.VideoEvent:stop",END_EVENT:"NYTD.NYTMM.VideoEvent:end",PROGRESS_EVENT:"NYTD.NYTMM.VideoEvent:progress",READY_EVENT:"NYTD.NYTMM.VideoEvent:ready",CHANGE_EVENT:"NYTD.NYTMM.VideoEvent:change",ERROR_EVENT:"NYTD.NYTMM.VideoEvent:error",DESTROY_EVENT:"NYTD.NYTMM.VideoEvent:destroy"}})(NYTD.NYTMM);(function(a){a.fn.textWidth=function(){var c=a(this).html();var b="<span>"+c+"</span>";a(this).html(b);var d=a(this).find("span:first").width();a(this).html(c);return d};a.fn.scrollVisible=function(){var e=a(this);var f=a(window).scrollTop();var d=f+a(window).height();var b=e.offset().top;var c=b+e.height();if((c<f)||(b>d)){return 0}if((c<=d)&&(b>=f)){return 2}return 1};a.fn.viewPosition=function(){var c=a(this);var d=c.offset();var b=d.left-a(window).scrollLeft();var e=d.top-a(window).scrollTop();return{top:e,left:b}};a.fn.identify=function(c){var b=0;c=(c)?c:"nytmm";return this.each(function(){if(a(this).attr("id")){return}do{b++;var d=c+"_"+b}while(a("#"+d).length>0);a(this).attr("id",d)})};a.extendByString=function(b,d){if(d){try{d=jQuery.parseJSON(d);a.log("Utils.extendByString: ");a.log(d)}catch(c){d={};a.log('Utils.extendByString : Error parsing advanced options JSON. Must be in this format {"key":"value"}')}}else{d={}}a.log(a.extend(true,b,d));return a.extend(true,b,d)};a.fixTouchEvent=function(f){if(f&&f.originalEvent&&f.originalEvent.touches&&f.originalEvent.touches[0]){var c=f.pageX||f.originalEvent.touches[0].pageX||f.originalEvent.changedTouches[0].pageX||0;var b=f.pageY||f.originalEvent.touches[0].pageY||f.originalEvent.changedTouches[0].pageY||0;var d=a(f.currentTarget);var g=d.offset();f.pageX=c-g.left;f.pageY=b-g.top;return f}return f};a.mergeSelectors=function(c){var b=c.shift();while(c.length){b=b.add(c.shift())}return b}})(jQuery);
/*
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2012, John Dyer (http://j.hn)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
var mejs=mejs||{};mejs.version="2.10.0";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]};mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>';return b.firstChild.href},getScriptPath:function(h){var e=0,c,k="",a="",f,b=document.getElementsByTagName("script"),g=b.length,d=h.length;for(;e<g;e++){f=b[e].src;for(c=0;c<d;c++){a=h[c];if(f.indexOf(a)>-1){k=f.substring(0,f.indexOf(a));break}}if(k!==""){break}}return k},secondsToTimeCode:function(c,g,a,b){if(typeof a=="undefined"){a=false}else{if(typeof b=="undefined"){b=25}}var f=Math.floor(c/3600)%24,d=Math.floor(c/60)%60,h=Math.floor(c%60),e=Math.floor(((c%1)*b).toFixed(3)),j=((g||f>0)?(f<10?"0"+f:f)+":":"")+(d<10?"0"+d:d)+":"+(h<10?"0"+h:h)+((a)?":"+(e<10?"0"+e:e):"");return j},timeCodeToSeconds:function(c,k,d,e){if(typeof d=="undefined"){d=false}else{if(typeof e=="undefined"){e=25}}var f=c.split(":"),a=parseInt(f[0],10),b=parseInt(f[1],10),h=parseInt(f[2],10),j=0,g=0;if(d){j=parseInt(f[3])/e}g=(a*3600)+(b*60)+h+j;return g},convertSMPTEtoSeconds:function(a){if(typeof a!="string"){return false}a=a.replace(",",".");var d=0,b=(a.indexOf(".")!=-1)?a.split(".")[1].length:0,e=1;a=a.split(":").reverse();for(var c=0;c<a.length;c++){e=1;if(c>0){e=Math.pow(60,c)}d+=Number(a[c])*e}return Number(d.toFixed(b))},removeSwf:function(b){var a=document.getElementById(b);if(a&&a.nodeName=="OBJECT"){if(mejs.MediaFeatures.isIE){a.style.display="none";(function(){if(a.readyState==4){mejs.Utility.removeObjectInIE(b)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.removeChild(a)}}},removeObjectInIE:function(c){var b=document.getElementById(c);if(b){for(var a in b){if(typeof b[a]=="function"){b[a]=null}}b.parentNode.removeChild(b)}}};mejs.PluginDetector={hasPluginVersion:function(c,a){var b=this.plugins[c];a[1]=a[1]||0;a[2]=a[2]||0;return(b[0]>a[0]||(b[0]==a[0]&&b[1]>a[1])||(b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]))?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(d,c,e,a,b){this.plugins[d]=this.detectPlugin(c,e,a,b)},detectPlugin:function(g,b,c,k){var h=[0,0,0],j,d,a;if(typeof(this.nav.plugins)!="undefined"&&typeof this.nav.plugins[g]=="object"){j=this.nav.plugins[g].description;if(j&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[b]&&!this.nav.mimeTypes[b].enabledPlugin)){h=j.replace(g,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(d=0;d<h.length;d++){h[d]=parseInt(h[d].match(/\d+/),10)}}}else{if(typeof(window.ActiveXObject)!="undefined"){try{a=new ActiveXObject(c);if(a){h=k(a)}}catch(f){}}}return h}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(b){var a=[],c=b.GetVariable("$version");if(c){c=c.split(" ")[1].split(",");a=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]}return a});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(b){var a=[0,0,0,0],c=function(f,d,e,g){while(f.isVersionSupported(d[0]+"."+d[1]+"."+d[2]+"."+d[3])){d[e]+=g}d[e]-=g};c(b,a,0,1);c(b,a,1,1);c(b,a,2,10000);c(b,a,2,1000);c(b,a,2,100);c(b,a,2,10);c(b,a,2,1);c(b,a,3,1);return a});mejs.MediaFeatures={init:function(){var e=this,h=document,g=mejs.PluginDetector.nav,c=mejs.PluginDetector.ua.toLowerCase(),b,a,f=["source","track","audio","video"];e.isiPad=(c.match(/ipad/i)!==null);e.isiPhone=(c.match(/iphone/i)!==null);e.isiOS=e.isiPhone||e.isiPad;e.isAndroid=(c.match(/android/i)!==null);e.isBustedAndroid=(c.match(/android 2\.[12]/)!==null);e.isIE=(g.appName.toLowerCase().indexOf("microsoft")!=-1);e.isChrome=(c.match(/chrome/gi)!==null);e.isFirefox=(c.match(/firefox/gi)!==null);e.isWebkit=(c.match(/webkit/gi)!==null);e.isGecko=(c.match(/gecko/gi)!==null)&&!e.isWebkit;e.isOpera=(c.match(/opera/gi)!==null);e.hasTouch=("ontouchstart" in window);e.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(b=0;b<f.length;b++){a=document.createElement(f[b])}e.supportsMediaTag=(typeof a.canPlayType!=="undefined"||e.isBustedAndroid);e.hasSemiNativeFullScreen=(typeof a.webkitEnterFullscreen!=="undefined");e.hasWebkitNativeFullScreen=(typeof a.webkitRequestFullScreen!=="undefined");e.hasMozNativeFullScreen=(typeof a.mozRequestFullScreen!=="undefined");e.hasTrueNativeFullScreen=(e.hasWebkitNativeFullScreen||e.hasMozNativeFullScreen);e.nativeFullScreenEnabled=e.hasTrueNativeFullScreen;if(e.hasMozNativeFullScreen){e.nativeFullScreenEnabled=a.mozFullScreenEnabled}if(this.isChrome){e.hasSemiNativeFullScreen=false}if(e.hasTrueNativeFullScreen){e.fullScreenEventName=(e.hasWebkitNativeFullScreen)?"webkitfullscreenchange":"mozfullscreenchange";e.isFullScreen=function(){if(a.mozRequestFullScreen){return h.mozFullScreen}else{if(a.webkitRequestFullScreen){return h.webkitIsFullScreen}}};e.requestFullScreen=function(d){if(e.hasWebkitNativeFullScreen){d.webkitRequestFullScreen()}else{if(e.hasMozNativeFullScreen){d.mozRequestFullScreen()}}};e.cancelFullScreen=function(){if(e.hasWebkitNativeFullScreen){document.webkitCancelFullScreen()}else{if(e.hasMozNativeFullScreen){document.mozCancelFullScreen()}}}}if(e.hasSemiNativeFullScreen&&c.match(/mac os x 10_5/i)){e.hasNativeFullScreen=false;e.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){var c=this.getElementsByTagName("source");while(c.length>0){this.removeChild(c[0])}if(typeof a=="string"){this.src=a}else{var b,d;for(b=0;b<a.length;b++){d=a[b];if(this.canPlayType(d.type)){this.src=d.src}}}},setVideoSize:function(b,a){this.width=b;this.height=a}};mejs.PluginMediaElement=function(b,c,a){this.id=b;this.pluginType=c;this.src=a;this.events={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.playVideo()}else{this.pluginApi.playMedia()}this.paused=false}},load:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){}else{this.pluginApi.loadMedia()}this.paused=false}},pause:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.pauseVideo()}else{this.pluginApi.pauseMedia()}this.paused=true}},stop:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.stopVideo()}else{this.pluginApi.stopMedia()}this.paused=true}},canPlayType:function(e){var d,c,a,b=mejs.plugins[this.pluginType];for(d=0;d<b.length;d++){a=b[d];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,a.version)){for(c=0;c<a.types.length;c++){if(e==a.types[c]){return true}}}}return false},positionFullscreenButton:function(a,c,b){if(this.pluginApi!=null&&this.pluginApi.positionFullscreenButton){this.pluginApi.positionFullscreenButton(a,c,b)}},hideFullscreenButton:function(){if(this.pluginApi!=null&&this.pluginApi.hideFullscreenButton){this.pluginApi.hideFullscreenButton()}},setSrc:function(a){if(typeof a=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var b,c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src));this.src=mejs.Utility.absolutizeUrl(a)}}}},setCurrentTime:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.seekTo(a)}else{this.pluginApi.setCurrentTime(a)}this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.setVolume(a*100)}else{this.pluginApi.setVolume(a)}this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"){if(a){this.pluginApi.mute()}else{this.pluginApi.unMute()}this.muted=a;this.dispatchEvent("volumechange")}else{this.pluginApi.setMuted(a)}this.muted=a}},setVideoSize:function(b,a){if(this.pluginElement.style){this.pluginElement.style.width=b+"px";this.pluginElement.style.height=a+"px"}if(this.pluginApi!=null&&this.pluginApi.setVideoSize){this.pluginApi.setVideoSize(b,a)}},setFullscreen:function(a){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.pluginApi.setFullscreen(a)}},enterFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(true)}},exitFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(false)}},addEventListener:function(b,c,a){this.events[b]=this.events[b]||[];this.events[b].push(c)},removeEventListener:function(a,c){if(!a){this.events={};return true}var b=this.events[a];if(!b){return true}if(!c){this.events[a]=[];return true}for(i=0;i<b.length;i++){if(b[i]===c){this.events[a].splice(i,1);return true}}return false},dispatchEvent:function(a){var c,b,d=this.events[a];if(d){b=Array.prototype.slice.call(arguments,1);for(c=0;c<d.length;c++){d[c].apply(null,b)}}},attributes:{},hasAttribute:function(a){return(a in this.attributes)},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){if(this.hasAttribute(a)){return this.attributes[a]}return""},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}};mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(c,a,b){this.pluginMediaElements[c]=a;this.htmlMediaElements[c]=b},initPlugin:function(c){var a=this.pluginMediaElements[c],b=this.htmlMediaElements[c];if(a){switch(a.pluginType){case"flash":a.pluginElement=a.pluginApi=document.getElementById(c);break;case"silverlight":a.pluginElement=document.getElementById(a.id);a.pluginApi=a.pluginElement.Content.MediaElementJS;break}if(a.pluginApi!=null&&a.success){a.success(a,b)}}},fireEvent:function(h,c,b){var g,f,a,d=this.pluginMediaElements[h];d.ended=false;d.paused=true;g={type:c,target:d};for(f in b){d[f]=b[f];g[f]=b[f]}a=b.bufferedTime||0;g.target.buffered=g.buffered={start:function(e){return 0},end:function(e){return a},length:1};d.dispatchEvent(g.type,g)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},error:function(){}};mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)};mejs.HtmlMediaElementShim={create:function(e,d){var n=mejs.MediaElementDefaults,k=(typeof(e)=="string")?document.getElementById(e):e,h=k.tagName.toLowerCase(),g=(h==="audio"||h==="video"),b=(g)?k.getAttribute("src"):k.getAttribute("href"),l=k.getAttribute("poster"),f=k.getAttribute("autoplay"),j=k.getAttribute("preload"),m=k.getAttribute("controls"),a,c;for(c in d){n[c]=d[c]}b=(typeof b=="undefined"||b===null||b=="")?null:b;l=(typeof l=="undefined"||l===null)?"":l;j=(typeof j=="undefined"||j===null||j==="false")?"none":j;f=!(typeof f=="undefined"||f===null||f==="false");m=!(typeof m=="undefined"||m===null||m==="false");a=this.determinePlayback(k,n,mejs.MediaFeatures.supportsMediaTag,g,b);a.url=(a.url!==null)?mejs.Utility.absolutizeUrl(a.url):"";if(a.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){k.src=a.url;k.addEventListener("click",function(){k.play()},false)}return this.updateNative(a,n,f,j)}else{if(a.method!==""){return this.createPlugin(a,n,l,f,j,m)}else{this.createErrorMessage(a,n,l);return this}}},determinePlayback:function(t,c,h,v,f){var o=[],s,r,q,p,m,d,g={method:"",url:"",htmlMediaElement:t,isVideo:(t.tagName.toLowerCase()!="audio")},a,b,u,w,e;if(typeof c.type!="undefined"&&c.type!==""){if(typeof c.type=="string"){o.push({type:c.type,url:f})}else{for(s=0;s<c.type.length;s++){o.push({type:c.type[s],url:f})}}}else{if(f!==null){d=this.formatType(f,t.getAttribute("type"));o.push({type:d,url:f})}else{for(s=0;s<t.childNodes.length;s++){m=t.childNodes[s];if(m.nodeType==1&&m.tagName.toLowerCase()=="source"){f=m.getAttribute("src");d=this.formatType(f,m.getAttribute("type"));e=m.getAttribute("media");if(!e||!window.matchMedia||(window.matchMedia&&window.matchMedia(e).matches)){o.push({type:d,url:f})}}}}}if(!v&&o.length>0&&o[0].url!==null&&this.getTypeFromFile(o[0].url).indexOf("audio")>-1){g.isVideo=false}if(mejs.MediaFeatures.isBustedAndroid){t.canPlayType=function(j){return(j.match(/video\/(mp4|m4v)/gi)!==null)?"maybe":""}}if(h&&(c.mode==="auto"||c.mode==="auto_plugin"||c.mode==="native")){if(!v){w=document.createElement(g.isVideo?"video":"audio");t.parentNode.insertBefore(w,t);t.style.display="none";g.htmlMediaElement=t=w}for(s=0;s<o.length;s++){if(t.canPlayType(o[s].type).replace(/no/,"")!==""||t.canPlayType(o[s].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){g.method="native";g.url=o[s].url;break}}if(g.method==="native"){if(g.url!==null){t.src=g.url}if(c.mode!=="auto_plugin"){return g}}}if(c.mode==="auto"||c.mode==="auto_plugin"||c.mode==="shim"){for(s=0;s<o.length;s++){d=o[s].type;for(r=0;r<c.plugins.length;r++){a=c.plugins[r];b=mejs.plugins[a];for(q=0;q<b.length;q++){u=b[q];if(u.version==null||mejs.PluginDetector.hasPluginVersion(a,u.version)){for(p=0;p<u.types.length;p++){if(d==u.types[p]){g.method=a;g.url=o[s].url;return g}}}}}}}if(c.mode==="auto_plugin"&&g.method==="native"){return g}if(g.method===""&&o.length>0){g.url=o[0].url}return g},formatType:function(a,c){var b;if(a&&!c){return this.getTypeFromFile(a)}else{if(c&&~c.indexOf(";")){return c.substr(0,c.indexOf(";"))}else{return c}}},getTypeFromFile:function(a){a=a.split("?")[0];var b=a.substring(a.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(b)?"video":"audio")+"/"+this.getTypeFromExtension(b)},getTypeFromExtension:function(a){switch(a){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return a}},createErrorMessage:function(c,b,g){var d=c.htmlMediaElement,a=document.createElement("div");a.className="me-cannotplay";try{a.style.width=d.width+"px";a.style.height=d.height+"px"}catch(f){}a.innerHTML=(g!=="")?'<a href="'+c.url+'"><img src="'+g+'" width="100%" height="100%" /></a>':'<a href="'+c.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>";d.parentNode.insertBefore(a,d);d.style.display="none";b.error(d)},createPlugin:function(n,a,c,e,d,h){var r=n.htmlMediaElement,m=1,l=1,s="me_"+n.method+"_"+(mejs.meIndex++),o=new mejs.PluginMediaElement(s,n.method,n.url),g=document.createElement("div"),b,p,j;o.tagName=r.tagName;for(var q=0;q<r.attributes.length;q++){var f=r.attributes[q];if(f.specified==true){o.setAttribute(f.name,f.value)}}p=r.parentNode;while(p!==null&&p.tagName.toLowerCase()!="body"){if(p.parentNode.tagName.toLowerCase()=="p"){p.parentNode.parentNode.insertBefore(p,p.parentNode);break}p=p.parentNode}if(n.isVideo){m=(a.videoWidth>0)?a.videoWidth:(r.getAttribute("width")!==null)?r.getAttribute("width"):a.defaultVideoWidth;l=(a.videoHeight>0)?a.videoHeight:(r.getAttribute("height")!==null)?r.getAttribute("height"):a.defaultVideoHeight;m=mejs.Utility.encodeUrl(m);l=mejs.Utility.encodeUrl(l)}else{if(a.enablePluginDebug){m=320;l=240}}o.success=a.success;mejs.MediaPluginBridge.registerPluginElement(s,o,r);g.className="me-plugin";g.id=s+"_container";if(n.isVideo){r.parentNode.insertBefore(g,r)}else{document.body.insertBefore(g,document.body.childNodes[0])}j=["id="+s,"isvideo="+((n.isVideo)?"true":"false"),"autoplay="+((e)?"true":"false"),"preload="+d,"width="+m,"startvolume="+a.startVolume,"timerrate="+a.timerRate,"flashstreamer="+a.flashStreamer,"height="+l];if(n.url!==null){if(n.method=="flash"){j.push("file="+mejs.Utility.encodeUrl(n.url))}else{j.push("file="+n.url)}}if(a.enablePluginDebug){j.push("debug=true")}if(a.enablePluginSmoothing){j.push("smoothing=true")}if(h){j.push("controls=true")}if(a.pluginVars){j=j.concat(a.pluginVars)}switch(n.method){case"silverlight":g.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+s+'" name="'+s+'" width="'+m+'" height="'+l+'"><param name="initParams" value="'+j.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+a.pluginPath+a.silverlightName+'" /></object>';break;case"flash":if(mejs.MediaFeatures.isIE){b=document.createElement("div");g.appendChild(b);b.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+s+'" width="'+m+'" height="'+l+'"><param name="movie" value="'+a.pluginPath+a.flashName+"?x="+(new Date())+'" /><param name="flashvars" value="'+j.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else{g.innerHTML='<embed id="'+s+'" name="'+s+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+a.pluginPath+a.flashName+'" flashvars="'+j.join("&")+'" width="'+m+'" height="'+l+'"></embed>'}break;case"youtube":var k=n.url.substr(n.url.lastIndexOf("=")+1);youtubeSettings={container:g,containerId:g.id,pluginMediaElement:o,pluginId:s,videoId:k,height:l,width:m};if(mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])){mejs.YouTubeApi.createFlash(youtubeSettings)}else{mejs.YouTubeApi.enqueueIframe(youtubeSettings)}break;case"vimeo":o.vimeoid=n.url.substr(n.url.lastIndexOf("/")+1);g.innerHTML='<iframe src="http://player.vimeo.com/video/'+o.vimeoid+'?portrait=0&byline=0&title=0" width="'+m+'" height="'+l+'" frameborder="0"></iframe>';break}r.style.display="none";return o},updateNative:function(d,c,f,b){var e=d.htmlMediaElement,a;for(a in mejs.HtmlMediaElement){e[a]=mejs.HtmlMediaElement[a]}c.success(e,e);return e}};mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement("script");a.src="http://www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(a){if(this.isLoaded){this.createIframe(a)}else{this.loadIframeApi();this.iframeQueue.push(a)}},createIframe:function(c){var b=c.pluginMediaElement,a=new YT.Player(c.containerId,{height:c.height,width:c.width,videoId:c.videoId,playerVars:{controls:0},events:{onReady:function(){c.pluginMediaElement.pluginApi=a;mejs.MediaPluginBridge.initPlugin(c.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(a,b,"timeupdate")},250)},onStateChange:function(d){mejs.YouTubeApi.handleStateChange(d.data,a,b)}}})},createEvent:function(d,c,b){var e={type:b,target:c};if(d&&d.getDuration){c.currentTime=e.currentTime=d.getCurrentTime();c.duration=e.duration=d.getDuration();e.paused=c.paused;e.ended=c.ended;e.muted=d.isMuted();e.volume=d.getVolume()/100;e.bytesTotal=d.getVideoBytesTotal();e.bufferedBytes=d.getVideoBytesLoaded();var a=e.bufferedBytes/e.bytesTotal*e.duration;e.target.buffered=e.buffered={start:function(f){return 0},end:function(f){return a},length:1}}c.dispatchEvent(e.type,e)},iFrameReady:function(){this.isLoaded=true;this.isIframeLoaded=true;while(this.iframeQueue.length>0){var a=this.iframeQueue.pop();this.createIframe(a)}},flashPlayers:{},createFlash:function(c){this.flashPlayers[c.pluginId]=c;var b,a="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+c.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){b=document.createElement("div");c.container.appendChild(b);b.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+c.pluginId+'" width="'+c.width+'" height="'+c.height+'"><param name="movie" value="'+a+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else{c.container.innerHTML='<object type="application/x-shockwave-flash" id="'+c.pluginId+'" data="'+a+'" width="'+c.width+'" height="'+c.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'}},flashReady:function(e){var c=this.flashPlayers[e],b=document.getElementById(e),a=c.pluginMediaElement;a.pluginApi=a.pluginElement=b;mejs.MediaPluginBridge.initPlugin(e);b.cueVideoById(c.videoId);var d=c.containerId+"_callback";window[d]=function(f){mejs.YouTubeApi.handleStateChange(f,b,a)};b.addEventListener("onStateChange",d);setInterval(function(){mejs.YouTubeApi.createEvent(b,a,"timeupdate")},250)},handleStateChange:function(c,b,a){switch(c){case -1:a.paused=true;a.ended=true;mejs.YouTubeApi.createEvent(b,a,"loadedmetadata");break;case 0:a.paused=false;a.ended=true;mejs.YouTubeApi.createEvent(b,a,"ended");break;case 1:a.paused=false;a.ended=false;mejs.YouTubeApi.createEvent(b,a,"play");mejs.YouTubeApi.createEvent(b,a,"playing");break;case 2:a.paused=true;a.ended=false;mejs.YouTubeApi.createEvent(b,a,"pause");break;case 3:mejs.YouTubeApi.createEvent(b,a,"progress");break;case 5:break}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(a){mejs.YouTubeApi.flashReady(a)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;
/*
 * Adds Internationalization and localization to objects.
 *
 * What is the concept beyond i18n?
 *   http://en.wikipedia.org/wiki/Internationalization_and_localization
 *
 *
 * This file both i18n methods and locale which is used to translate
 * strings into other languages.
 *
 * Default translations are not available, you have to add them
 * through locale objects which are named exactly as the langcode
 * they stand for. The default language is always english (en).
 *
 *
 * Wrapper built to be able to attach the i18n object to
 * other objects without changing more than one line.
 *
 *
 * LICENSE:
 *
 *   The i18n file uses methods from the Drupal project (drupal.js):
 *     - i18n.methods.t() (modified)
 *     - i18n.methods.checkPlain() (full copy)
 *     - i18n.methods.formatString() (full copy)
 *
 *   The Drupal project is (like mediaelementjs) licensed under GPLv2.
 *    - http://drupal.org/licensing/faq/#q1
 *    - https://github.com/johndyer/mediaelement
 *    - http://www.gnu.org/licenses/old-licenses/gpl-2.0.html
 *
 *
 * @author
 *   Tim Latz (latz.tim@gmail.com)
 *
 * @see
 *   me-i18n-locale.js
 *
 * @params
 *  - $       - zepto || jQuery  ..
 *  - context - document, iframe ..
 *  - exports - CommonJS, window ..
 *
 */
(function(d,b,a,e){var c={locale:{strings:{}},methods:{}};c.locale.getLanguage=function(){return{language:navigator.language}};c.locale.INIT_LANGUAGE=c.locale.getLanguage();c.methods.checkPlain=function(j){var h,g,f={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};j=String(j);for(h in f){if(f.hasOwnProperty(h)){g=new RegExp(h,"g");j=j.replace(g,f[h])}}return j};c.methods.formatString=function(h,f){for(var g in f){switch(g.charAt(0)){case"@":f[g]=c.methods.checkPlain(f[g]);break;case"!":break;case"%":default:f[g]='<em class="placeholder">'+c.methods.checkPlain(f[g])+"</em>";break}h=h.replace(g,f[g])}return h};c.methods.t=function(h,g,f){if(c.locale.strings&&c.locale.strings[f.context]&&c.locale.strings[f.context][h]){h=c.locale.strings[f.context][h]}if(g){h=c.methods.formatString(h,g)}return h};c.t=function(j,g,f){if(typeof j==="string"&&j.length>0){var h=c.locale.getLanguage();f=f||{context:h.language};return c.methods.t(j,g,f)}else{throw {name:"InvalidArgumentException",message:"First argument is either not a string or empty."}}};a.i18n=c}(jQuery,document,mejs));
/*
 * This is a i18n.locale language object.
 *
 *<de> German translation by Tim Latz, latz.tim@gmail.com
 *
 * @author
 *   Tim Latz (latz.tim@gmail.com)
 *
 * @see
 *   me-i18n.js
 *
 * @params
 *  - exports - CommonJS, window ..
 */
(function(a,b){a.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus"}}(mejs.i18n.locale.strings));
/*
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2012, John Dyer (http://j.hn/)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
if(typeof jQuery!="undefined"){mejs.$=jQuery}else{if(typeof ender!="undefined"){mejs.$=ender}}(function(a){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(b){return(b.duration*0.05)},defaultSeekForwardInterval:function(b){return(b.duration*0.05)},audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(b,c){if(c.paused||c.ended){c.play()}else{c.pause()}}},{keys:[38],action:function(b,d){var c=Math.min(d.volume+0.1,1);d.setVolume(c)}},{keys:[40],action:function(b,d){var c=Math.max(d.volume-0.1,0);d.setVolume(c)}},{keys:[37,227],action:function(b,d){if(!isNaN(d.duration)&&d.duration>0){if(b.isVideo){b.showControls();b.startControlsTimer()}var c=Math.max(d.currentTime-b.options.defaultSeekBackwardInterval(d),0);d.setCurrentTime(c)}}},{keys:[39,228],action:function(b,d){if(!isNaN(d.duration)&&d.duration>0){if(b.isVideo){b.showControls();b.startControlsTimer()}var c=Math.min(d.currentTime+b.options.defaultSeekForwardInterval(d),d.duration);d.setCurrentTime(c)}}},{keys:[70],action:function(b,c){if(typeof b.enterFullScreen!="undefined"){if(b.isFullScreen){b.exitFullScreen()}else{b.enterFullScreen()}}}}]};mejs.mepIndex=0;mejs.players=[];mejs.MediaElementPlayer=function(c,d){if(!(this instanceof mejs.MediaElementPlayer)){return new mejs.MediaElementPlayer(c,d)}var b=this;b.$media=b.$node=a(c);b.node=b.media=b.$media[0];if(typeof b.node.player!="undefined"){return b.node.player}else{b.node.player=b}if(typeof d=="undefined"){d=b.$node.data("mejsoptions")}b.options=a.extend({},mejs.MepDefaults,d);mejs.players.push(b);b.init();return b};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var d=this,e=mejs.MediaFeatures,h=a.extend(true,{},d.options,{success:function(k,j){d.meReady(k,j)},error:function(j){d.handleError(j)}}),c=d.media.tagName.toLowerCase();d.isDynamic=(c!=="audio"&&c!=="video");if(d.isDynamic){d.isVideo=d.options.isVideo}else{d.isVideo=(c!=="audio"&&d.options.isVideo)}if((e.isiPad&&d.options.iPadUseNativeControls)||(e.isiPhone&&d.options.iPhoneUseNativeControls)){d.$media.attr("controls","controls");if(e.isiPad&&d.media.getAttribute("autoplay")!==null){d.media.load();d.media.play()}}else{if(e.isAndroid&&d.AndroidUseNativeControls){}else{d.$media.removeAttr("controls");d.id="mep_"+mejs.mepIndex++;d.container=a('<div id="'+d.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(d.$media[0].className).insertBefore(d.$media);d.container.addClass((e.isAndroid?"mejs-android ":"")+(e.isiOS?"mejs-ios ":"")+(e.isiPad?"mejs-ipad ":"")+(e.isiPhone?"mejs-iphone ":"")+(d.isVideo?"mejs-video ":"mejs-audio "));if(e.isiOS){var g=d.$media.clone();d.container.find(".mejs-mediaelement").append(g);d.$media.remove();d.$node=d.$media=g;d.node=d.media=g[0]}else{d.container.find(".mejs-mediaelement").append(d.$media)}d.controls=d.container.find(".mejs-controls");d.layers=d.container.find(".mejs-layers");var f=(d.isVideo?"video":"audio"),b=f.substring(0,1).toUpperCase()+f.substring(1);if(d.options[f+"Width"]>0||d.options[f+"Width"].toString().indexOf("%")>-1){d.width=d.options[f+"Width"]}else{if(d.media.style.width!==""&&d.media.style.width!==null){d.width=d.media.style.width}else{if(d.media.getAttribute("width")!==null){d.width=d.$media.attr("width")}else{d.width=d.options["default"+b+"Width"]}}}if(d.options[f+"Height"]>0||d.options[f+"Height"].toString().indexOf("%")>-1){d.height=d.options[f+"Height"]}else{if(d.media.style.height!==""&&d.media.style.height!==null){d.height=d.media.style.height}else{if(d.$media[0].getAttribute("height")!==null){d.height=d.$media.attr("height")}else{d.height=d.options["default"+b+"Height"]}}}d.setPlayerSize(d.width,d.height);h.pluginWidth=d.height;h.pluginHeight=d.width}}mejs.MediaElement(d.$media[0],h)},showControls:function(b){var c=this;b=typeof b=="undefined"||b;if(c.controlsAreVisible){return}if(b){c.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true});c.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true})}else{c.controls.css("visibility","visible").css("display","block");c.container.find(".mejs-control").css("visibility","visible").css("display","block");c.controlsAreVisible=true}c.setControlsSize()},hideControls:function(b){var c=this;b=typeof b=="undefined"||b;if(!c.controlsAreVisible){return}if(b){c.controls.stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block");c.controlsAreVisible=false});c.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block")})}else{c.controls.css("visibility","hidden").css("display","block");c.container.find(".mejs-control").css("visibility","hidden").css("display","block");c.controlsAreVisible=false}},controlsTimer:null,startControlsTimer:function(c){var b=this;c=typeof c!="undefined"?c:1500;b.killControlsTimer("start");b.controlsTimer=setTimeout(function(){b.hideControls();b.killControlsTimer("hide")},c)},killControlsTimer:function(c){var b=this;if(b.controlsTimer!==null){clearTimeout(b.controlsTimer);delete b.controlsTimer;b.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var b=this;b.killControlsTimer();b.hideControls(false);this.controlsEnabled=false},enableControls:function(){var b=this;b.showControls(false);b.controlsEnabled=true},meReady:function(d,g){var l=this,k=mejs.MediaFeatures,h=g.getAttribute("autoplay"),f=!(typeof h=="undefined"||h===null||h==="false"),b,m;if(l.created){return}else{l.created=true}l.media=d;l.domNode=g;if(!(k.isAndroid&&l.options.AndroidUseNativeControls)&&!(k.isiPad&&l.options.iPadUseNativeControls)&&!(k.isiPhone&&l.options.iPhoneUseNativeControls)){l.buildposter(l,l.controls,l.layers,l.media);l.buildkeyboard(l,l.controls,l.layers,l.media);l.buildoverlays(l,l.controls,l.layers,l.media);l.findTracks();for(b in l.options.features){m=l.options.features[b];if(l["build"+m]){try{l["build"+m](l,l.controls,l.layers,l.media)}catch(j){}}}l.container.trigger("controlsready");l.setPlayerSize(l.width,l.height);l.setControlsSize();if(l.isVideo){if(mejs.MediaFeatures.hasTouch){l.$media.bind("touchstart",function(){if(l.controlsAreVisible){l.hideControls(false)}else{if(l.controlsEnabled){l.showControls(false)}}})}else{var c=(l.media.pluginType=="native")?l.$media:a(l.media.pluginElement);c.click(function(){if(d.paused){d.play()}else{d.pause()}});l.container.bind("mouseenter mouseover",function(){if(l.controlsEnabled){if(!l.options.alwaysShowControls){l.killControlsTimer("enter");l.showControls();l.startControlsTimer(2500)}}}).bind("mousemove",function(){if(l.controlsEnabled){if(!l.controlsAreVisible){l.showControls()}if(!l.options.alwaysShowControls){l.startControlsTimer(2500)}}}).bind("mouseleave",function(){if(l.controlsEnabled){if(!l.media.paused&&!l.options.alwaysShowControls){l.startControlsTimer(1000)}}})}if(f&&!l.options.alwaysShowControls){l.hideControls()}if(l.options.enableAutosize){l.media.addEventListener("loadedmetadata",function(n){if(l.options.videoHeight<=0&&l.domNode.getAttribute("height")===null&&!isNaN(n.target.videoHeight)){l.setPlayerSize(n.target.videoWidth,n.target.videoHeight);l.setControlsSize();l.media.setVideoSize(n.target.videoWidth,n.target.videoHeight)}},false)}}d.addEventListener("play",function(){for(var n=0,e=mejs.players.length;n<e;n++){var o=mejs.players[n];if(o.id!=l.id&&l.options.pauseOtherPlayers&&!o.paused&&!o.ended){o.pause()}o.hasFocus=false}l.hasFocus=true},false);l.media.addEventListener("ended",function(n){try{l.media.setCurrentTime(0)}catch(o){}l.media.pause();if(l.setProgressRail){l.setProgressRail()}if(l.setCurrentRail){l.setCurrentRail()}if(l.options.loop){l.media.play()}else{if(!l.options.alwaysShowControls&&l.controlsEnabled){l.showControls()}}},false);l.media.addEventListener("loadedmetadata",function(n){if(l.updateDuration){l.updateDuration()}if(l.updateCurrent){l.updateCurrent()}if(!l.isFullScreen){l.setPlayerSize(l.width,l.height);l.setControlsSize()}},false);setTimeout(function(){l.setPlayerSize(l.width,l.height);l.setControlsSize()},50);a(window).resize(function(){if(!(l.isFullScreen||(mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen))){l.setPlayerSize(l.width,l.height)}l.setControlsSize()});if(l.media.pluginType=="youtube"){l.container.find(".mejs-overlay-play").hide()}}if(f&&d.pluginType=="native"){d.load();d.play()}if(l.options.success){if(typeof l.options.success=="string"){window[l.options.success](l.media,l.domNode,l)}else{l.options.success(l.media,l.domNode,l)}}},handleError:function(c){var b=this;b.controls.hide();if(b.options.error){b.options.error(c)}},setPlayerSize:function(g,b){var e=this;if(typeof g!="undefined"){e.width=g}if(typeof b!="undefined"){e.height=b}if(e.height.toString().indexOf("%")>0||e.$node.css("max-width")==="100%"){var h=e.isVideo?((e.media.videoWidth&&e.media.videoWidth>0)?e.media.videoWidth:e.options.defaultVideoWidth):e.options.defaultAudioWidth,d=e.isVideo?((e.media.videoHeight&&e.media.videoHeight>0)?e.media.videoHeight:e.options.defaultVideoHeight):e.options.defaultAudioHeight,f=e.container.parent().width(),c=parseInt(f*d/h,10);if(e.container.parent()[0].tagName.toLowerCase()==="body"){f=a(window).width();c=a(window).height()}if(c!=0){e.container.width(f).height(c);e.$media.width("100%").height("100%");e.container.find("object, embed, iframe").width("100%").height("100%");if(e.isVideo){if(e.media.setVideoSize){e.media.setVideoSize(f,c)}}e.layers.children(".mejs-layer").width("100%").height("100%")}}else{e.container.width(e.width).height(e.height);e.layers.children(".mejs-layer").width(e.width).height(e.height)}},setControlsSize:function(){var c=this,g=0,j=0,h=c.controls.find(".mejs-time-rail"),e=c.controls.find(".mejs-time-total"),f=c.controls.find(".mejs-time-current"),b=c.controls.find(".mejs-time-loaded"),d=h.siblings();if(c.options&&!c.options.autosizeProgress){j=parseInt(h.css("width"))}if(j===0||!j){d.each(function(){if(a(this).css("position")!="absolute"){g+=a(this).outerWidth(true)}});j=c.controls.width()-g-(h.outerWidth(true)-h.width())}h.width(j);e.width(j-(e.outerWidth(true)-e.width()));if(c.setProgressRail){c.setProgressRail()}if(c.setCurrentRail){c.setCurrentRail()}},buildposter:function(e,b,g,f){var d=this,h=a('<div class="mejs-poster mejs-layer"></div>').appendTo(g),c=e.$media.attr("poster");if(e.options.poster!==""){c=e.options.poster}if(c!==""&&c!=null){d.setPoster(c)}else{h.hide()}f.addEventListener("play",function(){h.hide()},false)},setPoster:function(c){var d=this,e=d.container.find(".mejs-poster"),b=e.find("img");if(b.length==0){b=a('<img width="100%" height="100%" />').appendTo(e)}b.attr("src",c)},buildoverlays:function(e,b,g,f){if(!e.isVideo){return}var h=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(g),c=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(g),d=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(g).click(function(){if(f.paused){f.play()}else{f.pause()}});f.addEventListener("play",function(){d.hide();h.hide();b.find(".mejs-time-buffering").hide();c.hide()},false);f.addEventListener("playing",function(){d.hide();h.hide();b.find(".mejs-time-buffering").hide();c.hide()},false);f.addEventListener("seeking",function(){h.show();b.find(".mejs-time-buffering").show()},false);f.addEventListener("seeked",function(){h.hide();b.find(".mejs-time-buffering").hide()},false);f.addEventListener("pause",function(){if(!mejs.MediaFeatures.isiPhone){d.show()}},false);f.addEventListener("waiting",function(){h.show();b.find(".mejs-time-buffering").show()},false);f.addEventListener("loadeddata",function(){h.show();b.find(".mejs-time-buffering").show()},false);f.addEventListener("canplay",function(){h.hide();b.find(".mejs-time-buffering").hide()},false);f.addEventListener("error",function(){h.hide();b.find(".mejs-time-buffering").hide();c.show();c.find("mejs-overlay-error").html("Error loading this resource")},false)},buildkeyboard:function(d,b,f,e){var c=this;a(document).keydown(function(n){if(d.hasFocus&&d.options.enableKeyboard){for(var m=0,g=d.options.keyActions.length;m<g;m++){var l=d.options.keyActions[m];for(var h=0,k=l.keys.length;h<k;h++){if(n.keyCode==l.keys[h]){n.preventDefault();l.action(d,e,n.keyCode);return false}}}}return true});a(document).click(function(g){if(a(g.target).closest(".mejs-container").length==0){d.hasFocus=false}})},findTracks:function(){var b=this,c=b.$media.find("track");b.tracks=[];c.each(function(e,d){d=a(d);b.tracks.push({srclang:d.attr("srclang").toLowerCase(),src:d.attr("src"),kind:d.attr("kind"),label:d.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(b){this.container[0].className="mejs-container "+b;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(b){this.media.setMuted(b)},setCurrentTime:function(b){this.media.setCurrentTime(b)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(b){this.media.setVolume(b)},getVolume:function(){return this.media.volume},setSrc:function(b){this.media.setSrc(b)},remove:function(){var b=this;if(b.media.pluginType==="flash"){b.media.remove()}else{if(b.media.pluginType==="native"){b.$media.prop("controls",true)}}if(!b.isDynamic){b.$node.insertBefore(b.container)}b.container.remove()}};if(typeof jQuery!="undefined"){jQuery.fn.mediaelementplayer=function(b){return this.each(function(){new mejs.MediaElementPlayer(this,b)})}}a(document).ready(function(){a(".mejs-player").mediaelementplayer()});window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"});a.extend(MediaElementPlayer.prototype,{buildplaypause:function(d,b,g,f){var c=this,e=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+c.id+'" title="'+c.options.playpauseText+'"></button></div>').appendTo(b).click(function(h){h.preventDefault();if(f.paused){f.play()}else{f.pause()}return false});f.addEventListener("play",function(){e.removeClass("mejs-play").addClass("mejs-pause")},false);f.addEventListener("playing",function(){e.removeClass("mejs-play").addClass("mejs-pause")},false);f.addEventListener("pause",function(){e.removeClass("mejs-pause").addClass("mejs-play")},false);f.addEventListener("paused",function(){e.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{stopText:"Stop"});a.extend(MediaElementPlayer.prototype,{buildstop:function(e,b,g,f){var d=this,c=a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+d.id+'" title="'+d.options.stopText+'"></button></div>').appendTo(b).click(function(){if(!f.paused){f.pause()}if(f.currentTime>0){f.setCurrentTime(0);b.find(".mejs-time-current").width("0px");b.find(".mejs-time-handle").css("left","0px");b.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));b.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));g.find(".mejs-poster").show()}})}})})(mejs.$);(function(a){a.extend(MediaElementPlayer.prototype,{buildprogress:function(n,o,f,c){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(o);o.find(".mejs-time-buffering").hide();var p=this,l=o.find(".mejs-time-total"),g=o.find(".mejs-time-loaded"),k=o.find(".mejs-time-current"),j=o.find(".mejs-time-handle"),m=o.find(".mejs-time-float"),b=o.find(".mejs-time-float-current"),e=function(u){var q=u.pageX,v=l.offset(),s=l.outerWidth(),r=0,t=0,w=q-v.left;if(q>v.left&&q<=s+v.left&&c.duration){r=((q-v.left)/s);t=(r<=0.02)?0:r*c.duration;if(h){c.setCurrentTime(t)}if(!mejs.MediaFeatures.hasTouch){m.css("left",w);b.html(mejs.Utility.secondsToTimeCode(t));m.show()}}},h=false,d=false;l.bind("mousedown",function(q){if(q.which===1){h=true;e(q);a(document).bind("mousemove.dur",function(r){e(r)}).bind("mouseup.dur",function(r){h=false;m.hide();a(document).unbind(".dur")});return false}}).bind("mouseenter",function(q){d=true;a(document).bind("mousemove.dur",function(r){e(r)});if(!mejs.MediaFeatures.hasTouch){m.show()}}).bind("mouseleave",function(q){d=false;if(!h){a(document).unbind(".dur");m.hide()}});c.addEventListener("progress",function(q){n.setProgressRail(q);n.setCurrentRail(q)},false);c.addEventListener("timeupdate",function(q){n.setProgressRail(q);n.setCurrentRail(q)},false);p.loaded=g;p.total=l;p.current=k;p.handle=j},setProgressRail:function(f){var b=this,d=(f!=undefined)?f.target:b.media,c=null;if(d&&d.buffered&&d.buffered.length>0&&d.buffered.end&&d.duration){c=d.buffered.end(0)/d.duration}else{if(d&&d.bytesTotal!=undefined&&d.bytesTotal>0&&d.bufferedBytes!=undefined){c=d.bufferedBytes/d.bytesTotal}else{if(f&&f.lengthComputable&&f.total!=0){c=f.loaded/f.total}}}if(c!==null){c=Math.min(1,Math.max(0,c));if(b.loaded&&b.total){b.loaded.width(b.total.width()*c)}}},setCurrentRail:function(){var b=this;if(b.media.currentTime!=undefined&&b.media.duration){if(b.total&&b.handle){var d=b.total.width()*b.media.currentTime/b.media.duration,c=d-(b.handle.outerWidth(true)/2);b.current.width(d);b.handle.css("left",c)}}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "});a.extend(MediaElementPlayer.prototype,{buildcurrent:function(d,b,f,e){var c=this;a('<div class="mejs-time"><span class="mejs-currenttime">'+(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(b);c.currenttime=c.controls.find(".mejs-currenttime");e.addEventListener("timeupdate",function(){d.updateCurrent()},false)},buildduration:function(d,b,f,e){var c=this;if(b.children().last().find(".mejs-currenttime").length>0){a(c.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(c.options.duration>0?mejs.Utility.secondsToTimeCode(c.options.duration,c.options.alwaysShowHours||c.media.duration>3600,c.options.showTimecodeFrameCount,c.options.framesPerSecond||25):((d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")))+"</span>").appendTo(b.find(".mejs-time"))}else{b.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(c.options.duration>0?mejs.Utility.secondsToTimeCode(c.options.duration,c.options.alwaysShowHours||c.media.duration>3600,c.options.showTimecodeFrameCount,c.options.framesPerSecond||25):((d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")))+"</span></div>").appendTo(b)}c.durationD=c.controls.find(".mejs-duration");e.addEventListener("timeupdate",function(){d.updateDuration()},false)},updateCurrent:function(){var b=this;if(b.currenttime){b.currenttime.html(mejs.Utility.secondsToTimeCode(b.media.currentTime,b.options.alwaysShowHours||b.media.duration>3600,b.options.showTimecodeFrameCount,b.options.framesPerSecond||25))}},updateDuration:function(){var b=this;if(b.media.duration&&b.durationD){b.durationD.html(mejs.Utility.secondsToTimeCode(b.media.duration,b.options.alwaysShowHours,b.options.showTimecodeFrameCount,b.options.framesPerSecond||25))}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});a.extend(MediaElementPlayer.prototype,{buildvolume:function(n,o,j,d){if(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices){return}var p=this,l=(p.isVideo)?p.options.videoVolume:p.options.audioVolume,f=(l=="horizontal")?a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+p.id+'" title="'+p.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(o):a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+p.id+'" title="'+p.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(o),q=p.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),b=p.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),h=p.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),g=p.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),m=function(w,x){if(!q.is(":visible")&&typeof x=="undefined"){q.show();m(w,true);q.hide();return}w=Math.max(0,w);w=Math.min(w,1);if(w==0){f.removeClass("mejs-mute").addClass("mejs-unmute")}else{f.removeClass("mejs-unmute").addClass("mejs-mute")}if(l=="vertical"){var u=b.height(),t=b.position(),s=u-(u*w);g.css("top",t.top+s-(g.height()/2));h.height(u-s);h.css("top",t.top+s)}else{var r=b.width(),t=b.position(),v=r*w;g.css("left",t.left+v-(g.width()/2));h.width(v)}},c=function(w){var u=null,s=b.offset();if(l=="vertical"){var t=b.height(),r=parseInt(b.css("top").replace(/px/,""),10),v=w.pageY-s.top;u=(t-v)/t;if(s.top==0||s.left==0){return}}else{var y=b.width(),x=w.pageX-s.left;u=x/y}u=Math.max(0,u);u=Math.min(u,1);m(u);if(u==0){d.setMuted(true)}else{d.setMuted(false)}d.setVolume(u)},k=false,e=false;f.hover(function(){q.show();e=true},function(){e=false;if(!k&&l=="vertical"){q.hide()}});q.bind("mouseover",function(){e=true}).bind("mousedown",function(r){c(r);a(document).bind("mousemove.vol",function(s){c(s)}).bind("mouseup.vol",function(){k=false;a(document).unbind(".vol");if(!e&&l=="vertical"){q.hide()}});k=true;return false});f.find("button").click(function(){d.setMuted(!d.muted)});d.addEventListener("volumechange",function(r){if(!k){if(d.muted){m(0);f.removeClass("mejs-mute").addClass("mejs-unmute")}else{m(d.volume);f.removeClass("mejs-unmute").addClass("mejs-mute")}}},false);if(p.container.is(":visible")){m(n.options.startVolume);if(d.pluginType==="native"){d.setVolume(n.options.startVolume)}}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")});a.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(q,p,g,f){if(!q.isVideo){return}q.isInIframe=(window.location!=window.parent.location);if(mejs.MediaFeatures.hasTrueNativeFullScreen){var u=null;if(mejs.MediaFeatures.hasMozNativeFullScreen){u=a(document)}else{u=q.container}u.bind(mejs.MediaFeatures.fullScreenEventName,function(t){if(mejs.MediaFeatures.isFullScreen()){q.isNativeFullScreen=true;q.setControlsSize()}else{q.isNativeFullScreen=false;q.exitFullScreen()}})}var o=this,e=0,c=0,n=q.container,b=a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+o.id+'" title="'+o.options.fullscreenText+'"></button></div>').appendTo(p);if(o.media.pluginType==="native"||(!o.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)){b.click(function(){var t=(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||q.isFullScreen;if(t){q.exitFullScreen()}else{q.enterFullScreen()}})}else{var m=null,h=(function(){var v=document.createElement("x"),w=document.documentElement,x=window.getComputedStyle,t;if(!("pointerEvents" in v.style)){return false}v.style.pointerEvents="auto";v.style.pointerEvents="x";w.appendChild(v);t=x&&x(v,"").pointerEvents==="auto";w.removeChild(v);return !!t})();if(h&&!mejs.MediaFeatures.isOpera){var l=false,r=function(){if(l){j.hide();d.hide();k.hide();b.css("pointer-events","");o.controls.css("pointer-events","");l=false}},j=a('<div class="mejs-fullscreen-hover" />').appendTo(o.container).mouseover(r),d=a('<div class="mejs-fullscreen-hover"  />').appendTo(o.container).mouseover(r),k=a('<div class="mejs-fullscreen-hover"  />').appendTo(o.container).mouseover(r),s=function(){var v={position:"absolute",top:0,left:0};j.css(v);d.css(v);k.css(v);j.width(o.container.width()).height(o.container.height()-o.controls.height());var t=b.offset().left-o.container.offset().left;fullScreenBtnWidth=b.outerWidth(true);d.width(t).height(o.controls.height()).css({top:o.container.height()-o.controls.height()});k.width(o.container.width()-t-fullScreenBtnWidth).height(o.controls.height()).css({top:o.container.height()-o.controls.height(),left:t+fullScreenBtnWidth})};a(document).resize(function(){s()});b.mouseover(function(){if(!o.isFullScreen){var t=b.offset(),v=q.container.offset();f.positionFullscreenButton(t.left-v.left,t.top-v.top,false);b.css("pointer-events","none");o.controls.css("pointer-events","none");j.show();k.show();d.show();s();l=true}});f.addEventListener("fullscreenchange",function(t){r()})}else{b.mouseover(function(){if(m!==null){clearTimeout(m);delete m}var t=b.offset(),v=q.container.offset();f.positionFullscreenButton(t.left-v.left,t.top-v.top,true)}).mouseout(function(){if(m!==null){clearTimeout(m);delete m}m=setTimeout(function(){f.hideFullscreenButton()},1500)})}}q.fullscreenBtn=b;a(document).bind("keydown",function(t){if(((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||o.isFullScreen)&&t.keyCode==27){q.exitFullScreen()}})},enterFullScreen:function(){var c=this;if(c.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||c.options.usePluginFullScreen)){return}docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=c.container.height();normalWidth=c.container.width();if(c.media.pluginType==="native"){if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(c.container[0]);if(c.isInIframe){setTimeout(function d(){if(c.isNativeFullScreen){if(a(window).width()!==screen.width){c.exitFullScreen()}else{setTimeout(d,500)}}},500)}}else{if(mejs.MediaFeatures.hasSemiNativeFullScreen){c.media.webkitEnterFullscreen();return}}}if(c.isInIframe){var b=c.options.newWindowCallback(this);if(b!==""){if(!mejs.MediaFeatures.hasTrueNativeFullScreen){c.pause();window.open(b,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}else{setTimeout(function(){if(!c.isNativeFullScreen){c.pause();window.open(b,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250)}}}c.container.addClass("mejs-container-fullscreen").width("100%").height("100%");setTimeout(function(){c.container.css({width:"100%",height:"100%"});c.setControlsSize()},500);if(c.pluginType==="native"){c.$media.width("100%").height("100%")}else{c.container.find("object, embed, iframe").width("100%").height("100%");c.media.setVideoSize(a(window).width(),a(window).height())}c.layers.children("div").width("100%").height("100%");if(c.fullscreenBtn){c.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen")}c.setControlsSize();c.isFullScreen=true},exitFullScreen:function(){var b=this;if(b.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox){b.media.setFullscreen(false);return}if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||b.isFullScreen)){mejs.MediaFeatures.cancelFullScreen()}document.documentElement.style.overflow=docStyleOverflow;b.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(b.pluginType==="native"){b.$media.width(normalWidth).height(normalHeight)}else{b.container.find("object embed").width(normalWidth).height(normalHeight);b.media.setVideoSize(normalWidth,normalHeight)}b.layers.children("div").width(normalWidth).height(normalHeight);b.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");b.setControlsSize();b.isFullScreen=false}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"});a.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(f,b,h,g){if(!f.isVideo){return}if(f.tracks.length==0){return}var e=this,d,c="";f.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(h).hide();f.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(h).hide();f.captionsText=f.captions.find(".mejs-captions-text");f.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+e.id+'" title="'+e.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+f.id+'_captions" id="'+f.id+'_captions_none" value="none" checked="checked" /><label for="'+f.id+'_captions_none">None</label></li></ul></div></div>').appendTo(b).hover(function(){a(this).find(".mejs-captions-selector").css("visibility","visible")},function(){a(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none"){f.selectedTrack=null}else{for(d=0;d<f.tracks.length;d++){if(f.tracks[d].srclang==lang){f.selectedTrack=f.tracks[d];f.captions.attr("lang",f.selectedTrack.srclang);f.displayCaptions();break}}}});if(!f.options.alwaysShowControls){f.container.bind("mouseenter",function(){f.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){if(!g.paused){f.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}})}else{f.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}f.trackToLoad=-1;f.selectedTrack=null;f.isLoadingTrack=false;for(d=0;d<f.tracks.length;d++){if(f.tracks[d].kind=="subtitles"){f.addTrackButton(f.tracks[d].srclang,f.tracks[d].label)}}f.loadNextTrack();g.addEventListener("timeupdate",function(j){f.displayCaptions()},false);g.addEventListener("loadedmetadata",function(j){f.displayChapters()},false);f.container.hover(function(){if(f.hasChapters){f.chapters.css("visibility","visible");f.chapters.fadeIn(200).height(f.chapters.find(".mejs-chapter").outerHeight())}},function(){if(f.hasChapters&&!g.paused){f.chapters.fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})}});if(f.node.getAttribute("autoplay")!==null){f.chapters.css("visibility","hidden")}},loadNextTrack:function(){var b=this;b.trackToLoad++;if(b.trackToLoad<b.tracks.length){b.isLoadingTrack=true;b.loadTrack(b.trackToLoad)}else{b.isLoadingTrack=false}},loadTrack:function(c){var d=this,b=d.tracks[c],e=function(){b.isLoaded=true;d.enableTrackButton(b.srclang,b.label);d.loadNextTrack()};a.ajax({url:b.src,dataType:"text",success:function(f){if(typeof f=="string"&&(/<tt\s+xml/ig).exec(f)){b.entries=mejs.TrackFormatParser.dfxp.parse(f)}else{b.entries=mejs.TrackFormatParser.webvvt.parse(f)}e();if(b.kind=="chapters"&&d.media.duration>0){d.drawChapters(b)}},error:function(){d.loadNextTrack()}})},enableTrackButton:function(d,b){var c=this;if(b===""){b=mejs.language.codes[d]||d}c.captionsButton.find("input[value="+d+"]").prop("disabled",false).siblings("label").html(b);if(c.options.startLanguage==d){a("#"+c.id+"_captions_"+d).click()}c.adjustLanguageBox()},addTrackButton:function(d,b){var c=this;if(b===""){b=mejs.language.codes[d]||d}c.captionsButton.find("ul").append(a('<li><input type="radio" name="'+c.id+'_captions" id="'+c.id+"_captions_"+d+'" value="'+d+'" disabled="disabled" /><label for="'+c.id+"_captions_"+d+'">'+b+" (loading)</label></li>"));c.adjustLanguageBox();c.container.find(".mejs-captions-translations option[value="+d+"]").remove()},adjustLanguageBox:function(){var b=this;b.captionsButton.find(".mejs-captions-selector").height(b.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+b.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks=="undefined"){return}var d=this,c,b=d.selectedTrack;if(b!=null&&b.isLoaded){for(c=0;c<b.entries.times.length;c++){if(d.media.currentTime>=b.entries.times[c].start&&d.media.currentTime<=b.entries.times[c].stop){d.captionsText.html(b.entries.text[c]);d.captions.show().height(0);return}}d.captions.hide()}else{d.captions.hide()}},displayChapters:function(){var c=this,b;for(b=0;b<c.tracks.length;b++){if(c.tracks[b].kind=="chapters"&&c.tracks[b].isLoaded){c.drawChapters(c.tracks[b]);c.hasChapters=true;break}}},drawChapters:function(f){var c=this,b,d,e=0,g=0;c.chapters.empty();for(b=0;b<f.entries.times.length;b++){d=f.entries.times[b].stop-f.entries.times[b].start;e=Math.floor(d/c.media.duration*100);if(e+g>100||b==f.entries.times.length-1&&e+g<100){e=100-g}c.chapters.append(a('<div class="mejs-chapter" rel="'+f.entries.times[b].start+'" style="left: '+g.toString()+"%;width: "+e.toString()+'%;"><div class="mejs-chapter-block'+((b==f.entries.times.length-1)?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+f.entries.text[b]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(f.entries.times[b].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(f.entries.times[b].stop)+"</span></div></div>"));g+=e}c.chapters.find("div.mejs-chapter").click(function(){c.media.setCurrentTime(parseFloat(a(this).attr("rel")));if(c.media.paused){c.media.play()}});c.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(g){var e=0,d=mejs.TrackFormatParser.split2(g,/\r?\n/),c={text:[],times:[]},b,f;for(;e<d.length;e++){if(this.pattern_identifier.exec(d[e])){e++;b=this.pattern_timecode.exec(d[e]);if(b&&e<d.length){e++;f=d[e];e++;while(d[e]!==""&&e<d.length){f=f+"\n"+d[e];e++}f=a.trim(f).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");c.text.push(f);c.times.push({start:(mejs.Utility.convertSMPTEtoSeconds(b[1])==0)?0.2:mejs.Utility.convertSMPTEtoSeconds(b[1]),stop:mejs.Utility.convertSMPTEtoSeconds(b[3]),settings:b[5]})}}}return c}},dfxp:{parse:function(l){l=a(l).filter("tt");var j=0,c=l.children("div").eq(0),p=c.find("p"),h=l.find("#"+c.attr("style")),o,d,f,n,k={text:[],times:[]};if(h.length){var g=h.removeAttr("id").get(0).attributes;if(g.length){o={};for(j=0;j<g.length;j++){o[g[j].name.split(":")[1]]=g[j].value}}}for(j=0;j<p.length;j++){var b;var m={start:null,stop:null,style:null};if(p.eq(j).attr("begin")){m.start=mejs.Utility.convertSMPTEtoSeconds(p.eq(j).attr("begin"))}if(!m.start&&p.eq(j-1).attr("end")){m.start=mejs.Utility.convertSMPTEtoSeconds(p.eq(j-1).attr("end"))}if(p.eq(j).attr("end")){m.stop=mejs.Utility.convertSMPTEtoSeconds(p.eq(j).attr("end"))}if(!m.stop&&p.eq(j+1).attr("begin")){m.stop=mejs.Utility.convertSMPTEtoSeconds(p.eq(j+1).attr("begin"))}if(o){b="";for(var e in o){b+=e+":"+o[e]+";"}}if(b){m.style=b}if(m.start==0){m.start=0.2}k.times.push(m);n=a.trim(p.eq(j).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");k.text.push(n);if(k.times.start==0){k.times.start=2}}return k}},split2:function(c,b){return c.split(b)}};if("x\n\ny".split(/\n/gi).length!=3){mejs.TrackFormatParser.split2=function(f,d){var e=[],b="",c;for(c=0;c<f.length;c++){b+=f.substring(c,c+1);if(d.test(b)){e.push(b.replace(d,""));b=""}}e.push(b);return e}}})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(b){if(typeof b.enterFullScreen=="undefined"){return null}if(b.isFullScreen){return"Turn off Fullscreen"}else{return"Go Fullscreen"}},click:function(b){if(b.isFullScreen){b.exitFullScreen()}else{b.enterFullScreen()}}},{render:function(b){if(b.media.muted){return"Unmute"}else{return"Mute"}},click:function(b){if(b.media.muted){b.setMuted(false)}else{b.setMuted(true)}}},{isSeparator:true},{render:function(b){return"Download Video"},click:function(b){window.location.href=b.media.currentSrc}}]});a.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(c,b,e,d){c.contextMenu=a('<div class="mejs-contextmenu"></div>').appendTo(a("body")).hide();c.container.bind("contextmenu",function(f){if(c.isContextMenuEnabled){f.preventDefault();c.renderContextMenu(f.clientX-1,f.clientY-1);return false}});c.container.bind("click",function(){c.contextMenu.hide()});c.contextMenu.bind("mouseleave",function(){c.startContextMenuTimer()})},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var b=this;b.killContextMenuTimer();b.contextMenuTimer=setTimeout(function(){b.hideContextMenu();b.killContextMenuTimer()},750)},killContextMenuTimer:function(){var b=this.contextMenuTimer;if(b!=null){clearTimeout(b);delete b;b=null}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(b,j){var g=this,f="",d=g.options.contextMenuItems;for(var e=0,c=d.length;e<c;e++){if(d[e].isSeparator){f+='<div class="mejs-contextmenu-separator"></div>'}else{var h=d[e].render(g);if(h!=null){f+='<div class="mejs-contextmenu-item" data-itemindex="'+e+'" id="element-'+(Math.random()*1000000)+'">'+h+"</div>"}}}g.contextMenu.empty().append(a(f)).css({top:j,left:b}).show();g.contextMenu.find(".mejs-contextmenu-item").each(function(){var k=a(this),l=parseInt(k.data("itemindex"),10),m=g.options.contextMenuItems[l];if(typeof m.show!="undefined"){m.show(k,g)}k.click(function(){if(typeof m.click!="undefined"){m.click(g)}g.contextMenu.hide()})});setTimeout(function(){g.killControlsTimer("rev3")},100)}})})(mejs.$);(function(b,a){a.MediaElementPlayer=function(c,e){var d=this;this.$container=b(c);this.opts=b.extend(false,{width:"100%",height:"100%",controls:true,poster:null,autoPlay:false,theme:"mejs-default",useNativeMobileControls:false,debug:false,solo:true,keyboard:false,loop:false,volume:1,features:["playpause","progress","current","tracks","volume","fullscreen"]},e);this.opts.id=_.uniqueId("nytmm_mediaElementPlayer_");this.player={};this.domId="#"+this.$container.identify().attr("id");this.playing=false;this.$container.append(this.getEmbed(this.opts)).addClass("nytmm_videoloaded nytmm_mep_notstarted nytmm_mep_neverstarted");this.player=new MediaElementPlayer("#"+this.opts.id,{iPadUseNativeControls:d.opts.useNativeMobileControls,iPhoneUseNativeControls:d.opts.useNativeMobileControls,AndroidUseNativeControls:d.opts.useNativeMobileControls,enablePluginDebug:d.opts.debug,showTimecodeFrameCount:d.opts.debug,pauseOtherPlayers:d.opts.solo,enableKeyboard:d.opts.keyboard,enableAutosize:true,defaultVideoWidth:d.opts.width,defaultVideoHeight:d.opts.height,features:d.opts.features,alwaysShowControls:this.opts.alwaysShowControls,loop:d.opts.loop,startVolume:d.opts.volume,plugins:["flash","silverlight"],pluginPath:"http://graphics8.nytimes.com/packages/flash/multimedia/bundles/projects/2012/AvalancheDeploy/",flashName:"flashmediaelement.swf",silverlightName:"silverlightmediaelement.xap",success:function(j,h,g){var f=b(d.domId);j.addEventListener("play",function(k){d.playing=true;f.addClass("nytmm_mep_playing").removeClass("nytmm_mep_paused nytmm_mep_neverstarted nytmm_mep_notstarted");f.trigger(a.VideoEvents.PLAY_EVENT,k)},false);j.addEventListener("ended",function(k){d.playing=false;f.removeClass("nytmm_mep_playing nytmm_mep_paused").addClass("nytmm_mep_notstarted");f.trigger(a.VideoEvents.END_EVENT,k)},false);j.addEventListener("pause",function(k){d.playing=false;f.removeClass("nytmm_mep_playing");f.addClass("nytmm_mep_paused");f.trigger(a.VideoEvents.PAUSE_EVENT,k)},false);j.addEventListener("canplay",function(k){f.trigger(a.VideoEvents.READY_EVENT,k)},false);j.addEventListener("timeupdate",function(k){f.trigger(a.VideoEvents.PROGRESS_EVENT,k)},false)},error:function(f){b.log("NYTD.NYTMM.MediaElementPlayer: Error");b.log(f)}})};a.MediaElementPlayer.prototype={getEmbed:function(e){var d='<video id="{{id}}" class="video-mediaElement {{theme}} {{^controls}}mejs-nocontrols{{/controls}}" width="{{width}}" height="{{height}}" {{#poster}}poster="{{poster}}"{{/poster}} preload="none" {{#controls}}controls{{/controls}} {{#autoPlay}}autoplay{{/autoPlay}} {{#loop}}loop{{/loop}}>{{#mp4}}<source type="video/mp4" src="{{mp4}}">{{/mp4}}{{#webm}}<source type="video/webm" src="{{webm}}">{{/webm}}<object width="{{width}}" height="{{height}}" type="application/x-shockwave-flash" data="http://graphics8.nytimes.com/packages/flash/multimedia/bundles/projects/2012/AvalancheDeploy/flashmediaelement.swf"><param name="movie" value="http://graphics8.nytimes.com/packages/flash/multimedia/bundles/projects/2012/AvalancheDeploy/flashmediaelement.swf" /><param name="flashvars" value="{{#controls}}controls=true&{{/controls}}file={{{src}}}" /><!-- Image as a last resort -->{{#poster}}<img src="{{poster}}" width="{{width}}" height="{{height}}" title="No video playback capabilities" />{{/poster}}</object></video>';var c=b(Mustache.to_html(d,e));return c},isPlaying:function(){return this.playing},pause:function(){this.player.pause();this.playing=false},stop:function(){this.pause()},play:function(){this.player.play()},setSource:function(c){this.player.setSrc(c)},src:function(e){if(e===undefined){return this.player.media.src}else{var c=(this.src().replace(/#.*|\?.*|[^a-z0-9_\-]/ig,"").toLowerCase());var d=(e.replace(/#.*|\?.*|[^a-z0-9_\-]/ig,"").toLowerCase());if(c.indexOf(d)<0){this.setSource(e)}else{b.log("duplicated SRC not loaded",e)}}},setPoster:function(c){this.player.setPoster(c)},position:function(c){if(c===undefined||!this.player){return this.player.getCurrentTime()}else{this.player.setCurrentTime(c)}},destroy:function(){this.player.remove();this.$container.empty();this.$container.removeClass("nytmm_videoloaded nytmm_mep_notstarted nytmm_mep_neverstarted nytmm_mep_playing nytmm_mep_paused");b(this.domId).trigger(a.VideoEvents.DESTROY_EVENT)},volume:function(c){if(c===undefined){return this.player.getVolume()}else{return this.player.setVolume(c)}},mute:function(c){if(typeof c==="boolean"){return this.player.setMuted(c)}else{return this.volume()===0}},setSize:function(c,d){this.player.setPlayerSize(c,d);this.player.setControlsSize()}}})(jQuery,NYTD.NYTMM);(function(a,b){a.ProgressMonitorEvent=a.ProgressMonitorEvent||{};a.ProgressMonitorEvent.IN_REGION="NYTD.NYTMM.ProgressMonitorEvent:in";a.ProgressMonitorEvent.OUT_REGION="NYTD.NYTMM.ProgressMonitorEvent:out";a.ProgressMonitorEvent.SKIPPED_REGION="NYTD.NYTMM.ProgressMonitorEvent:skip";a.ProgressMonitor=a.ProgressMonitor||function(c){c=c||{};this.$trigger=(c.target)?b(c.target):b(document);this._last=null;this._max=c.max||0;this.regions(c.regions||[]);this.continuousMode(c.continuousMode);this.onIn=c.onIn||function(e){b.log("in",e.data)};this.onOut=c.onOut||function(e){b.log("out",e.data)};this.onSkip=c.onSkip||function(e){b.log("skip",e.data)}};a.ProgressMonitor.prototype.push=function(e,c,g){var f={i:undefined,o:undefined,data:undefined,enter:null,exit:null,skip:null};if(g!==undefined){f=b.extend(f,{i:e,o:c,data:g})}else{f=b.extend(f,e)}if(f.o===undefined||f.o===null||isNaN(f.o)){f.o=f.i}if(f.i>f.o){throw new Error("ProgressMonitor: Can not create region with in > out")}if(f.data===undefined||f.data===null){f.data="region_"+this._regions.length}this._regions.push(f);this._regions=_.sortBy(this._regions,function(d){return d.i});this._max=Math.max(this._max,f.o);if(this._continuousMode){this.expandRegions()}};a.ProgressMonitor.prototype.update=function(h,e){var g=this;var o=this._last;var m=(o>h);var k=[];if(h===undefined){return o}if(o===h){return}if(o===null||e){this._last=o=h;return}for(var f=0;f<this._regions.length;f++){var l=this._regions[f];var d=l.i;var n=l.o;var c={data:l.data,previous:o,position:h,backwards:m};if(((o<d&&h>n)||(o>n&&h<d))||(d===n&&h===d&&o!==h)){k.push({type:a.ProgressMonitorEvent.SKIPPED_REGION,e:c,region:l})}else{if((d<=h&&h<n)&&(o<d||o>=n)){k.push({type:a.ProgressMonitorEvent.IN_REGION,e:c,region:l})}else{if((d<=o&&o<n)&&(h<d||h>=n)){k.push({type:a.ProgressMonitorEvent.OUT_REGION,e:c,region:l})}}}}this._last=h;k=_(k).chain().sortBy(function(q,p){var j=0;var r=q.region;if(q.type===a.ProgressMonitorEvent.OUT_REGION){j=(m)?r.i:r.o;j-=5e-10}else{if(q.type===a.ProgressMonitorEvent.SKIPPED_REGION){j=r.i}else{if(q.type===a.ProgressMonitorEvent.IN_REGION){j=(m)?r.o:r.i;j+=5e-10}}}if(m){j*=-1}return j}).each(function(p,j){var r=p.region;var q=p.e;if(p.type===a.ProgressMonitorEvent.OUT_REGION){g.onOut(q);if(r.exit&&b.isFunction(r.exit)){r.exit(q)}}else{if(p.type===a.ProgressMonitorEvent.SKIPPED_REGION){g.onSkip(q);if(r.skip&&b.isFunction(r.skip)){r.skip(q)}}else{if(p.type===a.ProgressMonitorEvent.IN_REGION){g.onIn(q);if(r.enter&&b.isFunction(r.enter)){r.enter(q)}}}}g.$trigger.trigger(p.type,p.e)}).value();return k};a.ProgressMonitor.prototype.index=a.ProgressMonitor.prototype.update;a.ProgressMonitor.prototype.getRegionByData=function(c){return _(this._regions).find(function(d){return d.data===c})};a.ProgressMonitor.prototype.getRegionsAt=function(c){return(_.filter(this._regions,function(f){var e=f.i;var d=f.o;return(e<=c&&c<=d)}))};a.ProgressMonitor.prototype.clear=function(){this._regions=[];this._last=null};a.ProgressMonitor.prototype.expandRegions=function(){for(var c=0;c<this._regions.length-1;c++){this._regions[c].o=this._regions[c+1].i}if(this._regions.length>0){this._regions[this._regions.length-1].o=this._max+0.001}};a.ProgressMonitor.prototype.max=function(c){if(c===undefined){return this._max}else{this._max=c;if(this._continuousMode){this.expandRegions()}}};a.ProgressMonitor.prototype.regions=function(c){if(c===undefined){return this._regions}else{this._regions=c;this._regions=_.sortBy(this._regions,function(d){return d.i});if(this._continuousMode){this.expandRegions()}}};a.ProgressMonitor.prototype.continuousMode=function(c){if(c===undefined){return this._continuousMode}else{this._continuousMode=c;if(this._continuousMode){this.expandRegions()}}}})(NYTD.NYTMM,jQuery);
/*

*/
(function(g,e){var f=" -webkit- -moz- -o- -ms- ".split(" "),c="modernizr",h=document.createElement(c),b=h.style;var a=function(r,t,l,s){var k,q,n,o,j=document.createElement("div"),p=document.body,m=p||document.createElement("body");if(parseInt(l,10)){while(l--){n=document.createElement("div");n.id=s?s[l]:c+(l+1);j.appendChild(n)}}k=["&#173;",'<style id="s',c,'">',r,"</style>"].join("");j.id=c;(p?j:m).innerHTML+=k;m.appendChild(j);if(!p){m.style.background="";m.style.overflow="hidden";o=docElement.style.overflow;docElement.style.overflow="hidden";docElement.appendChild(m)}q=t(j,r);if(!p){m.parentNode.removeChild(m);docElement.style.overflow=o}else{j.parentNode.removeChild(j)}return !!q};function d(l,j){for(var k in l){if(b[l[k]]!==undefined){return j=="pfx"?l[k]:true}}return false}
/*
	 * Detect touch support. From Modernizr.touch | Copyright (c) Faruk Ates, Paul Irish, Alex Sexton |  Available under the BSD and MIT licenses: www.modernizr.com/license/
     */
e.supportsTouch=function(){var j;if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){j=true}else{a(["@media (",f.join("touch-enabled),("),c,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(k){j=k.offsetTop===9})}return j};e.pixelRatio=function(){return !!window.devicePixelRatio?window.devicePixelRatio:1};e.isRetina=function(){return this.pixelRatio()>1};e.cssAnimationsSupported=function(){if(typeof(e.cssAnimationsSupport)!=="undefined"){return e.cssAnimationsSupport}if((typeof(Modernizr)!=="undefined"&&Modernizr.cssanimations)){this.cssAnimationsSupport=true;return true}var m=false,p=document.createElement("div"),o="animation",l="",k="Webkit Moz O ms Khtml".split(" "),n="";if(p.style.animationName){m=true}if(m===false){for(var j=0;j<k.length;j++){if(p.style[k[j]+"AnimationName"]!==undefined){n=k[j];o=n+"Animation";l="-"+n.toLowerCase()+"-";m=true;break}}}this.cssAnimationsSupport=m;return m};e.cssTransformsSupported=function(){if(typeof(e.cssTransformsSupport)!=="undefined"){return e.cssTransformsSupport}if((typeof(Modernizr)!=="undefined"&&Modernizr.csstransforms)){this.cssTransformsSupport=true;return true}return !!d(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])}})(jQuery,NYTD.NYTMM.namespace("NYTD.NYTMM.Device.features"));window.NYTD=window.NYTD||{};window.NYTD.NYTMM=window.NYTD.NYTMM||{};(function(a,b){a.BrowserDetect={init:function(){this.MOBILE=this.checkMobile();this.TABLET=this.checkTablet();this.BROWSER_NAME=this.searchString(this.dataBrowser)||"An unknown browser";this.BROWSER_VERSION=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";if(this.BROWSER_NAME=="Firefox"&&this.BROWSER_VERSION>=10){this.TRANSLATE3D_SUPPORT=true}else{if(this.BROWSER_NAME=="Explorer"&&this.BROWSER_VERSION>=10){this.TRANSLATE3D_SUPPORT=true}}},searchString:function(f){for(var c=0;c<f.length;c++){var d=f[c].string;var e=f[c].prop;this.versionSearchString=f[c].versionSearch||f[c].identity;if(d){if(d.indexOf(f[c].subString)!=-1){return f[c].identity}}else{if(e){return f[c].identity}}}},searchVersion:function(d){var c=d.indexOf(this.versionSearchString);if(c==-1){return}return parseFloat(d.substring(c+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Windows CE",identity:"Windows CE"},{string:navigator.userAgent,subString:"Palm",identity:"Palm"},{string:navigator.userAgent,subString:"Blackberry",identity:"Blackberry"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],checkMobile:function(){var c=(/iphone|ipod|kindle|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec/i.test(navigator.userAgent.toLowerCase()));if(c===true){this.TABLET=false;return true}else{return false}},checkTablet:function(){var d=(/ipad|sch-i800|playbook|xoom|tablet|gt-p1000|gt-p7510|sgh-t849|nexus 7|nexus 10|shw-m180s|a100|dell streak|silk/i.test(navigator.userAgent.toLowerCase()));var f=(/android/i.test(navigator.userAgent.toLowerCase()));if(f===true||d===true){var c=screen.height;var e=screen.width;if(c>e){e=screen.height;c=screen.width}if(c>=736&&e>=1024){d=true}else{this.MOBILE=true;d=false}}if(d===true){this.MOBILE=false;return true}else{return false}}};a.BrowserDetect.BROWSER_NAME=null;a.BrowserDetect.BROWSER_VERSION=null;a.BrowserDetect.OS=null;a.BrowserDetect.MOBILE=false;a.BrowserDetect.TABLET=false;a.BrowserDetect.TRANSLATE3D_SUPPORT="WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix();a.BrowserDetect.init()})(NYTD.NYTMM);(function(a,b,c,d){c.softShell=function(f){var e={init:function(h){var g=c.extend({data:null,kit:null},h);e.typeKitLoader(g.kit);e.clearShell();e.displayTools();e.bindActions()},clearShell:function(){e.removeCColumn();var h=c("div#branding").css({"margin-top":18});var k=c("div#masthead").css({"margin-bottom":6});var g=c("div#page, div.tabContent").css({border:"none"});var j=c("ul#memberTools").appendTo("div#masthead");c("div.articleBody").each(function(n,p){if(n===0){var m=c("<div />").attr("id","nytmm-ss-storyinfo").prependTo(p);var o=c("h6.byline").detach().appendTo(m);var l=c("h6.dateline").detach().appendTo(m)}})},typeKitLoader:function(g){if(g===null){c.log("no typekit specified")}else{b.AsyncTypeLoader(g)}},removeCColumn:function(){c(".cColumn").hide()},activateHeader:function(k,j){var h=c("<div />");h.attr("id","nytmm_fixie").css("z-index",e.findHighestZ()+1).prependTo("body");var n=c("<div />").attr("class","header-inner");var g;if(k!=""){g=c("<div />").attr("class","nytmm_nav").html("<h3>"+k+"</h3> <p>"+j+"</p>")}else{g=c("<div />").attr("class","nytmm_nav").html("<p>"+j+"</p>")}var m=c("<div />").attr("class","nytmm_branding").append(c("<a />").attr("href","http://www.nytimes.com").append(c("<div />").addClass("brand")));var l='<div id="nytmm-ss-nav-tools"><ul class="nytmm-ss-nav-tools-wrap"><li class="nytmm-ss-nav-tools-item nytmm-ss-nav-share"><span class="nytmm-ss-nav-tools-share-toggle">Share</span></li><a href="#commentsContainer"><li class="nytmm-ss-nav-tools-item nytmm-ss-nav-comments"><span class="nytmm-ss-nav-comments-button"><span id="nytmm-ss-navcomments" class="nytmm-ss-nav-comment-count"></span><span class="nytmm-ss-nav-comment-text">COMMENT</span></span></li></a></ul></div>';n.append(m).append(g).append(l);h.append(n).hide()},displayTools:function(){var g=c("<div />").addClass("hidden").attr("id","page-overlay").addClass("light").appendTo("body");var j=" <div id='view-modal'></div> ";var k=c("<div />").addClass("hidden").attr("id","view-modal").appendTo("body");var h=e.shareModal();c("body").append(c(h.body).addClass("hidden"))},initAds:function(g,h,n,j){var l,k="http://www.nytimes.com/packages/html/multimedia/ENTERPRISE-TEMPLATE-ADS/";var m=k+g+"-"+h+".html";l='<iframe id="nytmm-enterprise-ads-'+g+'" scrolling="no" frameborder="0" border="0" src='+m+">";c(n).prepend(l)},shareTools:function(l){var g=(!l)?"nytmm-tt-share-top":l;var j=c("div.shareTools").css({position:"absolute",bottom:10,right:0,opacity:0});var h='<div id="nytmm-ss-article-toolbar"><ul class="nytmm-ss-article-tools"><li class="nytmm-ss-article-tools-item share-email"><span id="share-email" class="share-item">E-mail</span></li><li class="nytmm-ss-article-tools-item share-facebook"><span id="share-facebook" class="share-item">Facebook</span></li><li class="nytmm-ss-article-tools-item share-twitter"><span id="share-twitter" class="share-item">Twitter</span></li><li class="nytmm-ss-article-tools-item share-print"><span id="share-print" class="share-item">Print</span></li><li class="nytmm-ss-article-tools-item share-all"><span id="share-all" class="share-item">More</span></li></ul></div>';var k=c("<div />").attr("id",g);k.html(h);c("div.articleBody").each(function(m,n){if(m===0){c(n).prepend(k)}})},shareToolSymbiotics:function(j,h){var g=c(".columnGroup .shareToolsList");if(j){switch(h.attr("class")){case"nytmm-ss-article-tools-item share-twitter":g.find(".shareToolsItemTwitter span").trigger("click");return false;break;case"nytmm-ss-article-tools-item share-facebook":g.find(".shareToolsItemFacebook span").trigger("click");return false;break;case"nytmm-ss-article-tools-item share-email":g.find(".shareToolsItemEmail span").trigger("click");return false;break;case"nytmm-ss-article-tools-item share-print":g.find(".shareToolsItemPrint span").trigger("click");return false;break;case"nytmm-ss-article-tools-item share-save":g.find(".shareToolsItemSave span").trigger("click");return false;break;case"nytmm-ss-article-tools-item share-all":g.find(".shareToolsItemShowall span").trigger("click");return false;break;case"nytmm-ss-nav-tools-item nytmm-ss-nav-share":g.find(".shareToolsItemShowall span").trigger("click");return false;break}}},shareModal:function(){var g={body:'<div id="article-sharing-modal" class="modal-overlay"><div id="article-sharing-content"><div class="close"></div><div class="article-sharing-header">Share this Article</div><ul class="article-sharing-panel-list primary-list"><li class="article-sharing-panel-item share_facebook">Facebook</li><li class="article-sharing-panel-item share_tumblr">Tumblr</li><li class="article-sharing-panel-item share_twitter">Twitter</li><li class="article-sharing-panel-item share_reddit">Reddit</li><li class="article-sharing-panel-item share_google">Google+</li><li class="article-sharing-panel-item share_permalink">Permalink</li><li class="article-sharing-panel-item share_linkedin">LinkedIn</li><li class="article-sharing-panel-item share_email">E-mail</li></ul><div id="article-sharing-divide-line"></div><div class="article-sharing-header">Article Tools</div><ul class="article-sharing-panel-list secondary-list"><li class="article-sharing-panel-item share_print">Print</li><li class="article-sharing-panel-item share_reprints">Reprints</li></ul><div id="article-sharing-ad"><span id="adx-share-all-sponsor"><div class="ad-share-sponsor"><div align="left"><div class="clearfix"><div style="font-family: Arial; font-size: 10px; color:#808080; float: top; margin-right: 125px;">article tools sponsored by</div></div></div><a href="http://www.nytimes.com/adx/bin/adx_click.html?type=goto&amp;opzn&amp;page=prototype.nytimes.com/yr/mo/day&amp;pos=Frame6A&amp;sn2=7fbad81a/f04b38a&amp;sn1=8b766ebe/ccf651a5&amp;camp=FSL2013_ArticleTools_336x90_1849318f_nyt5&amp;ad=TheWWB_336x60_4.26_ADX&amp;goto=http%3A%2F%2Fwww%2Efoxsearchlight%2Ecom%2Fthewaywayback" target="_blank"><img src="http://graphics8.nytimes.com/adx/images/ADS/33/63/ad.336333/TWWB_336x90_4.26.13.gif" width="336" height="90" border="0"></a><noscript class="MOAT-nyt952824751?moatClientLevel1=Studios&amp;moatClientLevel2=Fox_Searchlight_Pictures&amp;moatClientLevel3=FSL2013_ArticleTools_336x90_1849318f_nyt5&amp;moatClientLevel4=TheWWB_336x60_4.26_ADX-PROTOTYPE&amp;moatClientSlicer1=prototype.nytimes.com/yr/mo/day/middleeast/05geneva.html&amp;zMoatAT=Standard"></noscript></div></span></div></div></div>',overlay:'<div id="page-overlay" class="light" style=""></div>'};return g},bindActions:function(){c(document).delegate("ul > li","click",function(){e.shareToolSymbiotics(true,c(this))});c("div.nytmm-ss-nav-tools-item.nytmm-ss-nav-share").click(function(){e.shareToolSymbiotics(true,c(this))});c(window).scroll(function(){var j=c(this);var h=c("div#nytmm-tt-share-top");var g=c("div#nytmm_fixie");if(j.scrollTop()>h.offset().top){g.slideDown(200)}else{if(j.scrollTop()<h.offset().top){g.slideUp(100)}}});c(".slideshow-trigger").on("click",function(){var h=c(this).find("img").attr("src");var g=c("<img />").attr("src",h);c("#view-modal").empty().append(g);c("#page-overlay, #view-modal").removeClass("hidden").animate({opacity:1},800);c("#view-modal").animate({opacity:1},800)});c("#page-overlay, #view-modal, #article-sharing-content .close").on("click",function(){c("#page-overlay, #view-modal, #article-sharing-modal").addClass("hidden")})},bindData:function(g){var h=g;return h},buildGraphicsVideoPlayers:function(){var h=c(".nytmm-graphic-video");var g=532/945;if(h.length>0){h.each(function(){var n=c(this);var q=n.data();var p=n.width();var j=p*g;var o=(b.Device.features.supportsTouch())?"_532":"_946";var m=q.src+o;var l=(b.Device.features.isRetina())?"_2x":"";n.css("height",j);var k=new NYTD.NYTMM.MediaElementPlayer(n,{width:p,height:j,mp4:m+".mp4",webm:m+".webm",src:m+".mp4",poster:q.poster+o+l+"_video.jpg",controls:false,useNativeMobileControls:true,startVolume:0.7,loop:false});q.vp=k})}},buildAudioPlayers:function(h,g){},buildLightboxer:function(h){var g=new b.Lightboxer({target:"a.nytmm_lightboxer",skin:"dark",linkScanning:false,shareTools:false,onOpen:function(l,k){var m=c(window).width();var j=c(window).height()},templates:{boxHeader:'<div id="nytmm_lb_all">{{>navigation}}<span class="nytmm_lb_close_hitbox"><span class="nytmm_lb_close" title="CLOSE"></span></span><div id="nytmm_lightboxer" class="nytmm_lb_type_{{type}} clearfix"><h3>{{title}}&nbsp;</h3>{{#index_max}}<h4>{{index}} of {{index_max}}</h4>{{/index_max}}<div class="nytmm_lb_content clearfix">',textBlock:'<div class="nytmm_lb_text"><p><span class="nytmm_lb_caption">{{{caption}}}</span> <span class="nytmm_lb_credit">{{{credit}}}</span></p></div>',video:'{{>boxHeader}}<div class="nytmm_lb_videoBox"></div>{{>textBlock}}{{>boxFooter}}'},defaultSizes:{video:{width:800,height:450}}})},loadAssets:function(o){var r,k,h,p,t,l,n,s,q,j,m,g;c.each(o,function(v,u){r=(u.type)?u.type:"";v=(u.asset_id)?u.asset_id:"";h=(u.source)?u.source:"";p=(u.target_id)?u.target_id:"";t=(u.size)?u.size:"";l=(u.headline)?u.headline:"";n=(u.credit)?u.credit:"";s=(u.caption)?u.caption:"";q=(u.summary)?u.summary:"";j=(u.url)?u.url:"";m=(u.image)?u.image:"";switch(r){case"header":e.activateHeader(l,s);break;case"series":c(".articleHeadline").append('<p class="series-lang">'+s+"</p>");break;case"image":if(t==="lead"){g="<div class='"+v+" size-lead'><img src='"+h+"'/></div><p class='caption size-"+t+"'>"+s+" <span class='credit'>"+n+"</span></p>";c("."+p).empty().append(g)}else{if(t==="medium"){g="<div class='"+v+" size-medium'><img src='"+h+"'/><p class='caption'>"+s+" <span class='credit'>"+n+"</span></p></div>";c("."+p).empty().append(g)}else{if(t==="large"){g="<div class='"+v+" size-large'><img src='"+h+"'/><p class='caption'>"+s+" <span class='credit'>"+n+"</span></p></div>";c("."+p).empty().append(g)}else{if(t!=="null"){g="<div class='"+v+"'><h3>"+l+"</h3><img src='"+h+"' width='"+t+"'/></div><div class='asset_metaData'><p class='caption'>"+s+" <span class='credit'>"+n+"</span></p></div>";c("."+p).append(g)}}}}break;case"slideshow":if(t==="lead"){g='<div class="'+v+"-"+t+'"><img src="'+h+'"/><div class="nytmm-slideshow-button"></div></div><p class="caption size-'+t+'">'+s+' <span class="credit">'+n+"</span></p>";c("."+p).empty().addClass("slideshow_holder")}if(t==="medium"){g='<div class="'+v+"-"+t+'"><img src="'+h+'" /><div class="nytmm-slideshow-button"></div></div><h2>Slide Show <span>|</span> '+q+" photos</h2><h3>"+l+'</h3><p class="caption size-'+t+'">'+s+' <span class="credit">'+n+"</span></p>"}c("."+p).append(g);break;case"graphic":if(t==="lead"){g="<div id='"+v+"'><img src='"+h+"'/></div><p class='caption'>"+s+"</p><p class='credit'>"+n+"</p>";c("."+p).empty().append(g)}if(t==="medium"){g="<h3>"+l+"</h3><p class='caption'>"+s+"</p><div id='"+v+"'><img src='"+h+"'/></div>";c("."+p).empty().append(g)}break;case"quote":g="<div class='"+v+"'><div class='lang-quotes'><div class='lang-menu'></div><a href='http://www.nytimes.com/interactive/2013/06/16/world/asia/weibo-voices-land-seizures.html'>"+q+"<div class='quote-metaData'>"+n+"</div></a></div></div>";if(p!==null){c("#"+v+"-"+p).append(g)}else{c("#"+v).append(g)}break;case"video":if(t==="lead"){g='<div id="'+v+'"></div><p class="caption">'+s+' <span class="credit">'+n+"</span></p>";width=945;height=532;c("."+p).empty().append(g)}if(t==="medium"){g='<div id="'+v+'"></div><h2>Video <span>|</span> 5:20</h2><h3>'+l+'</h3><p class="caption">'+s+' <span class="credit">'+n+"</span></p>";width=465;height=262;c("."+p).append(g)}break;case"graphic-video":g='<div id="'+v+'"><div class="nytmm-graphic-video nytmm_trigger" data-src="'+h+'" data-poster="'+m+'" data-coverage=".8" data-type="graphicvideo"></div><p class="caption">'+s+'<span class="credit">'+n+"</span></p></div>";c("."+p).empty().append(g);break;case"freeform":g='<div id="'+v+'" class="visible-desktop">'+q+"</div>";if(m!=""){g+='<div class="visible-mobile"><img src="'+m+'" /></div>'}if(n!=""){g+='<div class="credit">'+n+"</div>"}c("."+p).append(g);break;default:break}});e.buildGraphicsVideoPlayers()},updateQueryStringParameter:function(j,g,k){var h,l;h=new RegExp("([?|&])"+g+"=.*?(&|$)","i");l=j.indexOf("?")!==-1?"&":"?";if(j.match(h)){return j.replace(h,"$1"+g+"="+k+"$2")}else{return j+l+g+"="+k}},findHighestZ:function(){var g=1000000;return g}};return{initialize:e.init,moneyMaker:e.initAds,activateSharing:e.shareTools,header:e.activateHeader,bind:e.bindData,shellRemover:e.clearShell,loadAssets:e.loadAssets}};c(function(){function f(){return !!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}if(/iPod|iPhone/.test(navigator.userAgent)){c("head").append(c('<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">'))}var e=c.softShell();e.initialize({kit:"oxg6ecb"});e.moneyMaker("leaderboard","us-national-bare","#spanHeader");e.moneyMaker("big-ad","us-national-bare","#nytmm-ss-big-ad-1");e.moneyMaker("big-ad","us-national-bare","#nytmm-ss-big-ad-2");e.loadAssets(nytint_mobility_assets);e.activateSharing();if(f()){c("html").addClass("svg")}else{c("html").addClass("nosvg");c(".articleSpanImage").html(c('<img src="http://graphics8.nytimes.com/newsgraphics/2013/07/02/inequality/assets/g-map-fallback.png">'))}c("body").css("visibility","visible");c(".articleSpanImage").addClass("g-graphic-desktop")})})(this,NYTD.NYTMM,jQuery);